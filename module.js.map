{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"@grafana/ui\"","webpack:///external \"emotion\"","webpack:///../node_modules/react-draggable/build/cjs/utils/shims.js","webpack:///external \"@grafana/data\"","webpack:///../node_modules/lodash.merge/index.js","webpack:///../node_modules/react-draggable/build/cjs/utils/domFns.js","webpack:///../node_modules/prop-types/index.js","webpack:///external \"react-dom\"","webpack:///../node_modules/react-draggable/build/cjs/utils/positionFns.js","webpack:///../node_modules/react-draggable/build/cjs/utils/log.js","webpack:///../node_modules/react-draggable/build/cjs/cjs.js","webpack:///../node_modules/webpack/buildin/global.js","webpack:///../node_modules/webpack/buildin/module.js","webpack:///../node_modules/react-draggable/build/cjs/Draggable.js","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///../node_modules/classnames/index.js","webpack:///../node_modules/react-draggable/build/cjs/utils/getPrefix.js","webpack:///../node_modules/react-draggable/build/cjs/DraggableCore.js","webpack:///./types.ts","webpack:///../node_modules/uuid/dist/esm-browser/rng.js","webpack:///../node_modules/uuid/dist/esm-browser/regex.js","webpack:///../node_modules/uuid/dist/esm-browser/stringify.js","webpack:///../node_modules/uuid/dist/esm-browser/validate.js","webpack:///../node_modules/uuid/dist/esm-browser/v4.js","webpack:///./utils.ts","webpack:///./components/MapNode.tsx","webpack:///./components/ColorScale.tsx","webpack:///./WeathermapPanel.tsx","webpack:///./iconOptions.ts","webpack:///./NodeForm.tsx","webpack:///./LinkForm.tsx","webpack:///./ColorForm.tsx","webpack:///./FormDivider.tsx","webpack:///./PanelForm.tsx","webpack:///./WeathermapBuilder.tsx","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./ExportForm.tsx","webpack:///./module.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","findInArray","array","callback","length","apply","isFunction","func","toString","isNum","num","isNaN","int","a","parseInt","dontSetMe","props","propName","componentName","Error","concat","__WEBPACK_EXTERNAL_MODULE__4__","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","e","nodeIsTypedArray","isTypedArray","thisArg","args","uid","transform","arrayProto","Array","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","reIsNative","RegExp","replace","Buffer","undefined","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","arg","objectCreate","propertyIsEnumerable","splice","symToStringTag","getNative","nativeIsBuffer","isBuffer","nativeMax","Math","max","nativeNow","Date","now","Map","nativeCreate","baseCreate","proto","isObject","result","Hash","entries","index","this","clear","entry","set","ListCache","MapCache","Stack","data","__data__","size","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","String","isIndex","push","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","has","pop","getMapData","pairs","LARGE_ARRAY_SIZE","fromRight","baseFor","keysFunc","iterable","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsNative","isMasked","test","toSource","baseKeysIn","nativeKeysIn","isProto","isPrototype","baseMerge","source","srcIndex","customizer","stack","srcValue","mergeFunc","safeGet","stacked","newValue","isCommon","isTyped","isArrayLike","copyArray","buffer","isDeep","slice","constructor","copy","cloneBuffer","typedArray","arrayBuffer","byteLength","byteOffset","Ctor","isPlainObject","isNew","copyObject","keysIn","toPlainObject","initCloneObject","baseMergeDeep","baseRest","start","setToString","arguments","otherArgs","overRest","identity","map","type","getValue","count","lastCalled","stamp","remaining","shortOut","string","other","isLength","baseUnary","assigner","merge","sources","guard","isIterateeCall","_typeof","obj","iterator","matchesSelector","matchesSelectorAndParentsTo","el","selector","baseNode","node","parentNode","addEvent","event","handler","inputOptions","options","_objectSpread","capture","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","outerHeight","height","clientHeight","computedStyle","ownerDocument","defaultView","getComputedStyle","_shims","borderTopWidth","borderBottomWidth","outerWidth","width","clientWidth","borderLeftWidth","borderRightWidth","innerHeight","paddingTop","paddingBottom","innerWidth","paddingLeft","paddingRight","offsetXYFromParent","evt","offsetParent","scale","offsetParentRect","body","left","top","getBoundingClientRect","x","clientX","scrollLeft","y","clientY","scrollTop","createCSSTransform","controlPos","positionOffset","translation","getTranslation","_defineProperty","_getPrefix","browserPrefixToKey","default","createSVGTransform","getTouch","identifier","targetTouches","changedTouches","getTouchIdentifier","addUserSelectStyles","doc","styleEl","getElementById","createElement","id","innerHTML","getElementsByTagName","appendChild","addClassName","removeUserSelectStyles","removeClassName","selection","empty","window","getSelection","removeAllRanges","cache","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","WeakMap","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","target","forEach","getOwnPropertyDescriptors","defineProperties","configurable","writable","matchesSelectorFunc","method","_ref2","unitSuffix","defaultX","defaultY","className","classList","add","match","remove","__WEBPACK_EXTERNAL_MODULE__9__","getBoundPosition","draggable","bounds","right","bottom","cloneBounds","findDOMNode","boundNode","ownerWindow","querySelector","HTMLElement","nodeStyle","boundNodeStyle","offsetLeft","marginLeft","offsetTop","marginTop","_domFns","marginRight","marginBottom","min","snapToGrid","grid","pendingX","pendingY","round","canDragX","axis","canDragY","getControlPosition","touchIdentifier","draggableCore","touchObj","createCoreData","state","isStart","lastX","deltaX","deltaY","lastY","createDraggableData","coreData","_require","Draggable","DraggableCore","g","webpackPolyfill","deprecate","paths","children","_DraggableCore","React","_propTypes","_interopRequireDefault","_reactDom","_classnames","_positionFns","_log","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","from","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_React$Component","subClass","superClass","_inherits","_super","_this","instance","_classCallCheck","onStart","setState","dragging","dragged","uiData","newState","slackX","slackY","_getBoundPosition2","newStateX","newStateY","onDrag","onStop","Boolean","position","_this$props$position","defaultPosition","prevPropsPosition","isElementSVG","_ref","SVGElement","nodeRef","current","_classNames","_this$props","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","draggableCoreProps","style","svgTransform","validPosition","transformOpts","onDragStart","onDragStop","cloneElement","Children","only","Component","propTypes","oneOf","oneOfType","shape","number","defaultProps","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","location","propFullName","secret","getShim","isRequired","ReactPropTypes","bool","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","exact","checkPropTypes","PropTypes","hasOwn","classNames","classes","argType","inner","join","getPrefix","browserPrefixToStyle","prop","prefix","toLowerCase","prefixes","document","documentElement","str","out","shouldCapitalize","toUpperCase","kebabToTitleCase","_default","eventsFor","move","stop","dragEventFor","_len","_key","NaN","onMouseDown","allowAnyClick","button","thisNode","disabled","Node","handle","cancel","preventDefault","coreEvent","mounted","enableUserSelectHack","handleDrag","handleDragStop","_snapToGrid2","MouseEvent","createEvent","initMouseEvent","handleDragStart","onTouchStart","passive","onMouseUp","onTouchEnd","Anchor","getRandomValues","rnds8","rng","crypto","msCrypto","uuid","byteToHex","substr","offset","buf","rnds","random","colorsCalculatedCache","getSolidFromAlphaColor","fg","bg","startsWith","split","fgColor","parseColor","bgColor","finalColor","input","substring","collen","fact","getContext","ctxFontStyle","measureText","text","fontSize","fontStyle","cacheKey","fromCache","font","metrics","nearestMultiple","ceil","calculateRectangleAutoWidth","wm","widerSideLinks","anchors","Top","numLinks","Bottom","maxWidth","settings","link","stroke","spacing","horizontal","padding","label","labeledWidth","labelWidth","useConstantSpacing","nodeIcon","drawInside","calculateRectangleAutoHeight","Left","Right","minHeight","fontSizing","vertical","fullHeight","compactVerticalLinks","generateBasicNode","theme","0","numFilledLinks","1","2","3","4","colors","secondary","contrastText","background","main","border","src","generateBasicLink","nodes","sides","A","bandwidth","bandwidthQuery","query","labelOffset","anchor","dashboardLink","Z","units","handleVersionedStateUpdates","modelWeathermap","version","links","color","linkArrow","panel","backgroundColor","primary","panelSize","zoomScale","enabled","guidesEnabled","getStyles","nodeText","draggedNode","styles","rectX","calculateRectX","rectY","calculateRectY","rectWidth","rectHeight","textY","calculateTextY","display","cursor","Fragment","fill","strokeWidth","rx","ry","paintOrder","textAnchor","alignmentBaseline","dominantBaseline","actualBoundingBoxAscent","href","colorScaleContainer","colorBoxTitle","colorScaleItem","colorBox","colorLabel","memo","scaleHeights","percent","getContrastText","generateDrawnNode","toReturn","linkValueFormatter","wrapper","textBox","timeText","CiscoIcons","NetworkingIcons","DatabaseIcons","ComputerIcons","onChange","handleChange","weathermap","currentTarget","valueAsNumber","handleNodePaddingChange","handleSpacingChange","checked","handleCompactChange","handleColorChange","handleIconChange","icon","handleIconSizeChange","amt","handleIconPaddingChange","handleIconDrawChange","currentNode","setCurrentNode","ciscoIconsFormatted","networkingIconsFormatted","databaseIconsFormatted","computerIconsFormatted","borderTop","v","getOptionLabel","getOptionValue","nodeSelect","placeholder","inlineRow","nodeLabel","step","colorType","textTransform","flex","variant","onClick","applyNodeColorToAll","removeNode","justifyContent","addNew","clearAll","inlineField","context","findNodeIndex","n1","nodeIndex","handleBandwidthChange","side","handleBandwidthQueryChange","frame","handleAnchorChange","handleNodeChange","n2","handleDataChange","frameName","handleLabelOffsetChange","val","handleDashboardLinkChange","currentLink","setCurrentLink","values","sideIndex","sName","row","defaultValue","querySelect","row2","bandwidthSelect","nt","toRemove","removeLink","Center","editedPercents","setEditedPercents","item","prev","onBlur","handleNumberChange","inputPrefix","colorPicker","suffix","trashIcon","title","defaultNodes","__awaiter","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","then","svg","outerHTML","preface","icons","iconURL","origin","baseVal","fetch","iconData","iconString","base64String","btoa","svgBlob","Blob","svgUrl","URL","createObjectURL","download","toISOString","downloadLink","click","removeChild","exportButton","exportJSONButton","width2","height2","onOptionsChange","timeRange","isEditMode","search","includes","pct","getScaleColor","actual","amount","getMiddlePoint","b","dist","sqrt","getPercentPoint","getArrowPolygon","_p1","_p2","h","w","vec1","vec2","p1","p2","setNodes","tempNodes","generateDrawnLink","setLinks","getMultiLinkPosition","paddedWidth","dataValues","series","fields","dataFrame","currentValue","currentText","dataSource","scaledSideValue","scaledBandwidth","currentBandwidthText","lineStartA","lineStartZ","lineEndA","arrowCenterA","arrowPolygonA","lineEndZ","arrowCenterZ","arrowPolygonZ","isDragging","setDragging","aspectX","aspectY","aspectMultiplier","setOffset","hoveredLink","setHoveredLink","handleLinkHover","mouseEvent","handleLinkHoverLoss","setDraggedNode","nativeEvent","layerY","layerX","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","xmlns","xmlnsXlink","viewBox","pow","shapeRendering","textRendering","fontFamily","onWheel","zoomed","onMouseMove","ctrlKey","buttons","zoomAmt","movementX","movementY","drag","panned","patternUnits","opacity","overflow","strokeOpacity","abs","x1","y1","x2","y2","onMouseOut","points","prevState","scaledPos","pos","toLocaleString","setPanelOptions","builder","addCustomEditor","path","description","editor"],"mappings":"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CA,iCACA,UACA,QACA,UACA,OACA,WACA,kCACA,mBACA,WACA,uBACA,UACA,MACA,QACA,YACA,cACA,aACA,MACA,aACA,YACA,+BACA,8BACA,eACA,cACA,aACA,+BACA,WACA,sBACA,aACA,oBACA,mBACA,kBACA,oBACA,qBACA,gCACA,sBACA,kBACA,QACA,OACA,WACA,YACA,OACA,UACA,MACA,aACA,gBACA,iBACA,YACA,MACA,MACA,sBACA,oBACA,eACA,UACA,kBACA,SACA,WACA,sBACA,KACA,OACA,uBACA,cACA,eACA,cACA,MACA,OACA,MACA,OACA,aACA,SACA,wBACA,iBACA,iBACA,gBACA,OACA,gBACA,YACA,YACA,YACA,cACA,MACA,MACA,MACA,SACA,WACA,eACA,UACA,aACA,+BACA,aACA,iBACA,WACA,yBACA,uBACA,kBACA,QACA,aACA,MACA,6BACA,2BACA,qBACA,MACA,MACA,gBACA,aACA,MACA,iBACA,YACA,WACA,qBACA,mBACA,aACA,6BACA,aACA,aACA,QACA,WACA,oBACA,0BACA,oBACA,UACA,MACA,YACA,aACA,MACA,kBACA,SACA,gBACA,eACA,WACA,KACA,MACA,YACA,QACA,eACA,MACA,UACA,sBACA,sBACA,MACA,cACA,UACA,sBACA,WACA,WACA,yBACA,kBACA,qBACA,6BACA,SACA,SACA,cACA,kBACA,iBACA,YACA,UACA,gBACA,qBACA,kBACA,iBACA,iBACA,WACA,cACA,qBACA,mBACA,gBACA,iBACA,YACA,YACA,qBACA,wBACA,eACA,UACA,MACA,iBACA,gBACA,eACA,iBACA,MACA,iBACA,gBACA,MACA,WACA,kBACA,gBACA,MACA,oBACA,SACA,aACA,aACA,wBACA,qBACA,oBACA,QACA,SACA,YACA,QACA,SACA,KACA,SACA,aACA,eACA,oBACA,aACA,MACA,MACA,QACA,eACA,MACA,uBACA,iCACA,mBACA,mBACA,eACA,eACA,mBACA,cACA,MACA,MACA,oBACA,cACA,cACA,YACA,8BACA,kBACA,qBACA,WACA,iBACA,OACA,kBACA,qBACA,mBACA,cACA,cAGWC,GAAkB,CAC7B,aACA,eACA,aACA,mBACA,SACA,WACA,SACA,cACA,YACA,QACA,YACA,SACA,oBACA,WACA,sBACA,uBACA,cACA,gBACA,cACA,SACA,cACA,OACA,WACA,MACA,WACA,OACA,YACA,kBACA,QACA,UACA,QACA,SACA,OACA,yBACA,cACA,MACA,KACA,QACA,UACA,UACA,mBACA,iBACA,cACA,cACA,YACA,cACA,sBACA,WACA,eACA,SACA,iBACA,YACA,UACA,WACA,SACA,gBACA,cACA,eACA,iBACA,iBACA,SACA,YACA,MACA,OACA,eACA,cACA,iBACA,aACA,cACA,wBACA,kBACA,kBAGWC,GAAgB,CAC3B,YACA,WACA,mBACA,iBACA,gBACA,eACA,eACA,iBACA,sCACA,WACA,YACA,UACA,MACA,gBACA,WACA,UACA,kBACA,eACA,cACA,WACA,QACA,SACA,UACA,UACA,SACA,gBACA,UACA,QACA,QACA,QACA,SACA,QACA,UACA,aACA,UACA,SACA,YACA,SACA,QACA,UACA,YACA,OACA,UACA,OACA,aACA,YACA,SACA,UAGWC,GAAgB,CAC3B,cACA,YACA,WACA,gBACA,cACA,QACA,KACA,MACA,QACA,SACA,WACA,c,msDCnZK,I,wBAAM,GAAW,SAAC,GAA8B,IAA5BvtB,EAA4B,EAA5BA,MAAOwtB,EAAqB,EAArBA,SAC1BzC,EAAS,KACT1C,EAAQ,sBAERoF,EAAe,SAAC/pB,EAAsC3E,GAC1D,IAAI2uB,EAAyB1tB,EACA,MAAzB0D,EAAEiqB,cAAcruB,KAClBouB,EAAWtE,MAAMrqB,GAAG2e,SAAS,GAAKha,EAAEiqB,cAAcC,cAChB,MAAzBlqB,EAAEiqB,cAAcruB,KACzBouB,EAAWtE,MAAMrqB,GAAG2e,SAAS,GAAKha,EAAEiqB,cAAcC,cAChB,UAAzBlqB,EAAEiqB,cAAcruB,OACzBouB,EAAWtE,MAAMrqB,GAAGuoB,MAAQ5jB,EAAEiqB,cAAc3tB,OAE9C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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findInArray = findInArray;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\nexports.int = int;\nexports.dontSetMe = dontSetMe;\n\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array\n/*: Array<any> | TouchList*/\n, callback\n/*: Function*/\n)\n/*: any*/\n{\n  for (var i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\n\nfunction isFunction(func\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\n\nfunction isNum(num\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof num === 'number' && !isNaN(num);\n}\n\nfunction int(a\n/*: string*/\n)\n/*: number*/\n{\n  return parseInt(a, 10);\n}\n\nfunction dontSetMe(props\n/*: Object*/\n, propName\n/*: string*/\n, componentName\n/*: string*/\n) {\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.addEvent = addEvent;\nexports.removeEvent = removeEvent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTranslation = getTranslation;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.removeUserSelectStyles = removeUserSelectStyles;\nexports.addClassName = addClassName;\nexports.removeClassName = removeClassName;\n\nvar _shims = require(\"./shims\");\n\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar matchesSelectorFunc = '';\n\nfunction matchesSelector(el\n/*: Node*/\n, selector\n/*: string*/\n)\n/*: boolean*/\n{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  } // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n\n\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable\n\n  return el[matchesSelectorFunc](selector);\n} // Works up the tree to the draggable itself attempting to match selector.\n\n\nfunction matchesSelectorAndParentsTo(el\n/*: Node*/\n, selector\n/*: string*/\n, baseNode\n/*: Node*/\n)\n/*: boolean*/\n{\n  var node = el;\n\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    node = node.parentNode;\n  } while (node);\n\n  return false;\n}\n\nfunction addEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions);\n\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\n\nfunction removeEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions);\n\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\n\nfunction outerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\n\nfunction outerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\n\nfunction innerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\n\nfunction innerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n} // Get from offsetParent\n\n\nfunction offsetXYFromParent(evt\n/*: {clientX: number, clientY: number}*/\n, offsetParent\n/*: HTMLElement*/\n, scale\n/*: number*/\n)\n/*: ControlPosition*/\n{\n  var isBody = offsetParent === offsetParent.ownerDocument.body;\n  var offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction createCSSTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: Object*/\n{\n  var translation = getTranslation(controlPos, positionOffset, 'px');\n  return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);\n}\n\nfunction createSVGTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: string*/\n{\n  var translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\n\nfunction getTranslation(_ref2, positionOffset\n/*: PositionOffsetControlPosition*/\n, unitSuffix\n/*: string*/\n)\n/*: string*/\n{\n  var x = _ref2.x,\n      y = _ref2.y;\n  var translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n\n  if (positionOffset) {\n    var defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    var defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n\n  return translation;\n}\n\nfunction getTouch(e\n/*: MouseTouchEvent*/\n, identifier\n/*: number*/\n)\n/*: ?{clientX: number, clientY: number}*/\n{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, function (t) {\n    return identifier === t.identifier;\n  }) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, function (t) {\n    return identifier === t.identifier;\n  });\n}\n\nfunction getTouchIdentifier(e\n/*: MouseTouchEvent*/\n)\n/*: ?number*/\n{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n} // User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n// Note we're passing `document` b/c we could be iframed\n\n\nfunction addUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\n\nfunction removeUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE\n\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\n\nfunction addClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\n\nfunction removeClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBoundPosition = getBoundPosition;\nexports.snapToGrid = snapToGrid;\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.getControlPosition = getControlPosition;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\n\nvar _shims = require(\"./shims\");\n\nvar _domFns = require(\"./domFns\");\n\nfunction getBoundPosition(draggable\n/*: Draggable*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: [number, number]*/\n{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y]; // Clone new bounds\n\n  var bounds = draggable.props.bounds;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  var node = findDOMNode(draggable);\n\n  if (typeof bounds === 'string') {\n    var ownerDocument = node.ownerDocument;\n    var ownerWindow = ownerDocument.defaultView;\n    var boundNode;\n\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n\n    var nodeStyle = ownerWindow.getComputedStyle(node);\n    var boundNodeStyle = ownerWindow.getComputedStyle(boundNode); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNode) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNode) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  } // Keep x and y below right and bottom limits...\n\n\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.\n\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\n\nfunction snapToGrid(grid\n/*: [number, number]*/\n, pendingX\n/*: number*/\n, pendingY\n/*: number*/\n)\n/*: [number, number]*/\n{\n  var x = Math.round(pendingX / grid[0]) * grid[0];\n  var y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\n\nfunction canDragX(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\n\nfunction canDragY(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n} // Get {x, y} positions from event.\n\n\nfunction getControlPosition(e\n/*: MouseTouchEvent*/\n, touchIdentifier\n/*: ?number*/\n, draggableCore\n/*: DraggableCore*/\n)\n/*: ?ControlPosition*/\n{\n  var touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\n  var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.\n\n  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n} // Create an data object exposed by <DraggableCore>'s events\n\n\nfunction createCoreData(draggable\n/*: DraggableCore*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: DraggableData*/\n{\n  var state = draggable.state;\n  var isStart = !(0, _shims.isNum)(state.lastX);\n  var node = findDOMNode(draggable);\n\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node: node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x: x,\n      y: y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node: node,\n      deltaX: x - state.lastX,\n      deltaY: y - state.lastY,\n      lastX: state.lastX,\n      lastY: state.lastY,\n      x: x,\n      y: y\n    };\n  }\n} // Create an data exposed by <Draggable>'s events\n\n\nfunction createDraggableData(draggable\n/*: Draggable*/\n, coreData\n/*: DraggableData*/\n)\n/*: DraggableData*/\n{\n  var scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n} // A lot faster than stringify/parse\n\n\nfunction cloneBounds(bounds\n/*: Bounds*/\n)\n/*: Bounds*/\n{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\n\nfunction findDOMNode(draggable\n/*: Draggable | DraggableCore*/\n)\n/*: HTMLElement*/\n{\n  var node = draggable.findDOMNode();\n\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\n\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n\n/*eslint no-console:0*/\nfunction log() {\n  var _console;\n\n  if (undefined) (_console = console).log.apply(_console, arguments);\n}","\"use strict\";\n\nvar _require = require('./Draggable'),\n    Draggable = _require.default,\n    DraggableCore = _require.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\n\n\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function get() {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n// Define <Draggable>\n//\nvar Draggable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Draggable, _React$Component);\n\n  var _super = _createSuper(Draggable);\n\n  _createClass(Draggable, null, [{\n    key: \"getDerivedStateFromProps\",\n    // React 16.3+\n    // Arity (props, state)\n    value: function getDerivedStateFromProps(_ref, _ref2) {\n      var position = _ref.position;\n      var prevPropsPosition = _ref2.prevPropsPosition;\n\n      // Set x/y if a new position is provided in props that is different than the previous.\n      if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n        (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n          position: position,\n          prevPropsPosition: prevPropsPosition\n        });\n        return {\n          x: position.x,\n          y: position.y,\n          prevPropsPosition: _objectSpread({}, position)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  function Draggable(props\n  /*: DraggableProps*/\n  ) {\n    var _this;\n\n    _classCallCheck(this, Draggable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, coreData) {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.\n\n      var shouldStart = _this.props.onStart(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.\n\n\n      if (shouldStart === false) return false;\n\n      _this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, coreData) {\n      if (!_this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      var uiData = (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        x: uiData.x,\n        y: uiData.y\n      }; // Keep within bounds.\n\n      if (_this.props.bounds) {\n        // Save original x and y.\n        var x = newState.x,\n            y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n\n        newState.x += _this.state.slackX;\n        newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n        var _getBoundPosition = (0, _positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),\n            _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),\n            newStateX = _getBoundPosition2[0],\n            newStateY = _getBoundPosition2[1];\n\n        newState.x = newStateX;\n        newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\n        newState.slackX = _this.state.slackX + (x - newState.x);\n        newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.\n\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - _this.state.x;\n        uiData.deltaY = newState.y - _this.state.y;\n      } // Short-circuit if user's callback killed it.\n\n\n      var shouldUpdate = _this.props.onDrag(e, uiData);\n\n      if (shouldUpdate === false) return false;\n\n      _this.setState(newState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, coreData) {\n      if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.\n\n      var shouldContinue = _this.props.onStop(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));\n\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      }; // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\n      var controlled = Boolean(_this.props.position);\n\n      if (controlled) {\n        var _this$props$position = _this.props.position,\n            x = _this$props$position.x,\n            y = _this$props$position.y;\n        newState.x = x;\n        newState.y = y;\n      }\n\n      _this.setState(newState);\n    });\n\n    _this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: _objectSpread({}, props.position),\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n\n    return _this;\n  }\n\n  _createClass(Draggable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Check to see if the element passed is an instanceof SVGElement\n      if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n        this.setState({\n          isElementSVG: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        dragging: false\n      }); // prevents invariant if unmounted while dragging\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactElement<any>*/\n    {\n      var _classNames;\n\n      var _this$props = this.props,\n          axis = _this$props.axis,\n          bounds = _this$props.bounds,\n          children = _this$props.children,\n          defaultPosition = _this$props.defaultPosition,\n          defaultClassName = _this$props.defaultClassName,\n          defaultClassNameDragging = _this$props.defaultClassNameDragging,\n          defaultClassNameDragged = _this$props.defaultClassNameDragged,\n          position = _this$props.position,\n          positionOffset = _this$props.positionOffset,\n          scale = _this$props.scale,\n          draggableCoreProps = _objectWithoutProperties(_this$props, [\"axis\", \"bounds\", \"children\", \"defaultPosition\", \"defaultClassName\", \"defaultClassNameDragging\", \"defaultClassNameDragged\", \"position\", \"positionOffset\", \"scale\"]);\n\n      var style = {};\n      var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.\n\n      var controlled = Boolean(position);\n      var draggable = !controlled || this.state.dragging;\n      var validPosition = position || defaultPosition;\n      var transformOpts = {\n        // Set left if horizontal drag is enabled\n        x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n        // Set top if vertical drag is enabled\n        y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n      }; // If this element was SVG, we use the `transform` attribute.\n\n      if (this.state.isElementSVG) {\n        svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n      } else {\n        // Add a CSS transform to move the element around. This allows us to move the element around\n        // without worrying about whether or not it is relatively or absolutely positioned.\n        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n        // has a clean slate.\n        style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n      } // Mark with class while dragging\n\n\n      var className = (0, _classnames.default)(children.props.className || '', defaultClassName, (_classNames = {}, _defineProperty(_classNames, defaultClassNameDragging, this.state.dragging), _defineProperty(_classNames, defaultClassNameDragged, this.state.dragged), _classNames)); // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n      return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop\n      }), React.cloneElement(React.Children.only(children), {\n        className: className,\n        style: _objectSpread(_objectSpread({}, children.props.style), style),\n        transform: svgTransform\n      }));\n    }\n  }]);\n\n  return Draggable;\n}(React.Component);\n\nexports.default = Draggable;\n\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n\n_defineProperty(Draggable, \"propTypes\", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n}));\n\n_defineProperty(Draggable, \"defaultProps\", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  position: null,\n  scale: 1\n}));","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPrefix = getPrefix;\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nvar prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\nfunction getPrefix()\n/*: string*/\n{\n  var prop\n  /*: string*/\n  = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Checking specifically for 'window.document' is for pseudo-browser server-side\n  // environments that define 'window' as the global context.\n  // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)\n  if (typeof window === 'undefined' || typeof window.document === 'undefined') return '';\n  var style = window.document.documentElement.style;\n  if (prop in style) return '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n\n  return '';\n}\n\nfunction browserPrefixToKey(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\n\nfunction browserPrefixToStyle(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\n\nfunction kebabToTitleCase(str\n/*: string*/\n)\n/*: string*/\n{\n  var out = '';\n  var shouldCapitalize = true;\n\n  for (var i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n\n  return out;\n} // Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\n\n\nvar _default = getPrefix();\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Simple abstraction for dragging events names.\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n}; // Default to mouse events.\n\nvar dragEventFor = eventsFor.mouse;\n/*:: type DraggableCoreState = {\n  dragging: boolean,\n  lastX: number,\n  lastY: number,\n  touchIdentifier: ?number\n};*/\n\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void;*/\n\n/*:: export type ControlPosition = {x: number, y: number};*/\n\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n/*:: export type DraggableCoreProps = {\n  allowAnyClick: boolean,\n  cancel: string,\n  children: ReactElement<any>,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\nvar DraggableCore = /*#__PURE__*/function (_React$Component) {\n  _inherits(DraggableCore, _React$Component);\n\n  var _super = _createSuper(DraggableCore);\n\n  function DraggableCore() {\n    var _this;\n\n    _classCallCheck(this, DraggableCore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dragging: false,\n      // Used while dragging to determine deltas.\n      lastX: NaN,\n      lastY: NaN,\n      touchIdentifier: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (e) {\n      // Make it possible to attach event handlers on top of this one.\n      _this.props.onMouseDown(e); // Only accept left-clicks.\n\n\n      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)\n\n      var thisNode = _this.findDOMNode();\n\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n\n      var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {\n        return;\n      } // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n\n\n      if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n\n      var touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n\n      _this.setState({\n        touchIdentifier: touchIdentifier\n      }); // Get the current drag point from the event. This is used as the offset.\n\n\n      var position = (0, _positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y; // Create an event object with all the data parents need to make a decision here.\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.\n\n      (0, _log.default)('calling', _this.props.onStart);\n\n      var shouldUpdate = _this.props.onStart(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n\n      if (_this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n\n      _this.setState({\n        dragging: true,\n        lastX: x,\n        lastY: y\n      }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n\n\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (e) {\n      // Get the current drag point from the event. This is used as the offset.\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX,\n            deltaY = y - _this.state.lastY;\n\n        var _snapToGrid = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);\n\n        deltaX = _snapToGrid2[0];\n        deltaY = _snapToGrid2[1];\n        if (!deltaX && !deltaY) return; // skip useless drag\n\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.\n\n      var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) {\n        try {\n          // $FlowIgnore\n          _this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          var event = ((document.createEvent('MouseEvents')\n          /*: any*/\n          )\n          /*: MouseTouchEvent*/\n          ); // I see why this insanity was deprecated\n          // $FlowIgnore\n\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n          _this.handleDragStop(event);\n        }\n\n        return;\n      }\n\n      _this.setState({\n        lastX: x,\n        lastY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStop\", function (e) {\n      if (!_this.state.dragging) return;\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y;\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler\n\n      var shouldContinue = _this.props.onStop(e, coreEvent);\n\n      if (shouldContinue === false || _this.mounted === false) return false;\n\n      var thisNode = _this.findDOMNode();\n\n      if (thisNode) {\n        // Remove user-select hack\n        if (_this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.\n\n      _this.setState({\n        dragging: false,\n        lastX: NaN,\n        lastY: NaN\n      });\n\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      dragEventFor = eventsFor.mouse;\n      return _this.handleDragStop(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStop(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(DraggableCore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        var ownerDocument = thisNode.ownerDocument;\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n      }\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n      return React.cloneElement(React.Children.only(this.props.children), {\n        // Note: mouseMove handler is attached to document so it will still function\n        // when the user drags quickly and leaves the bounds of the element.\n        onMouseDown: this.onMouseDown,\n        onMouseUp: this.onMouseUp,\n        // onTouchStart is added on `componentDidMount` so they can be added with\n        // {passive: false}, which allows it to cancel. See \n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n        onTouchEnd: this.onTouchEnd\n      });\n    }\n  }]);\n\n  return DraggableCore;\n}(React.Component);\n\nexports.default = DraggableCore;\n\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function offsetParent(props\n  /*: DraggableCoreProps*/\n  , propName\n  /*: $Keys<DraggableCoreProps>*/\n  ) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  cancel: null,\n  disabled: false,\n  enableUserSelectHack: true,\n  offsetParent: null,\n  handle: null,\n  grid: null,\n  transform: null,\n  onStart: function onStart() {},\n  onDrag: function onDrag() {},\n  onStop: function onStop() {},\n  onMouseDown: function onMouseDown() {},\n  scale: 1\n});","export interface PanelOptions {\n  backgroundColor: string;\n  panelSize: AreaSize;\n  zoomScale: number;\n  offset: Position;\n  grid: {\n    enabled: boolean;\n    size: number;\n    guidesEnabled: boolean;\n  };\n}\n\nexport interface AreaSize {\n  width: number;\n  height: number;\n}\n\nexport enum Anchor {\n  Center = 0,\n  Top,\n  Bottom,\n  Left,\n  Right,\n}\n\nexport interface NodeAnchor {\n  numLinks: number;\n  numFilledLinks: number;\n}\n\nexport interface Icon {\n  src: string;\n  name: string;\n  size: AreaSize;\n  padding: {\n    vertical: number;\n    horizontal: number;\n  };\n  drawInside: boolean;\n}\n\nexport interface Node {\n  id: string;\n  position: [number, number];\n  label?: string;\n  anchors: {\n    [Anchor.Center]: NodeAnchor;\n    [Anchor.Top]: NodeAnchor;\n    [Anchor.Bottom]: NodeAnchor;\n    [Anchor.Left]: NodeAnchor;\n    [Anchor.Right]: NodeAnchor;\n  };\n  useConstantSpacing: boolean;\n  compactVerticalLinks: boolean;\n  padding: {\n    horizontal: number;\n    vertical: number;\n  };\n  colors: {\n    font: string;\n    background: string;\n    border: string;\n  };\n  nodeIcon: Icon | null;\n}\n\nexport interface LinkSide {\n  bandwidth: number;\n  bandwidthQuery: string | undefined;\n  query: string | undefined;\n  labelOffset: number;\n  anchor: Anchor;\n  dashboardLink: string;\n}\n\nexport interface Link {\n  id: string;\n  nodes: [Node, Node];\n  sides: {\n    A: LinkSide;\n    Z: LinkSide;\n  };\n  units: string | undefined;\n}\n\nexport interface DrawnNode extends Node {\n  filledLinks: number;\n  index: number;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  labelWidth: number;\n}\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport interface DrawnLinkSide extends LinkSide {\n  currentValue: number;\n  currentText: string;\n  currentBandwidthText: string;\n}\nexport interface DrawnLink extends Link {\n  sides: {\n    A: DrawnLinkSide;\n    Z: DrawnLinkSide;\n  };\n  index: number;\n  source: DrawnNode;\n  target: DrawnNode;\n  lineStartA: Position;\n  lineEndA: Position;\n  arrowCenterA: Position;\n  arrowPolygonA: any;\n  lineStartZ: Position;\n  lineEndZ: Position;\n  arrowCenterZ: Position;\n  arrowPolygonZ: any;\n}\n\nexport interface HoveredLink {\n  link: DrawnLink;\n  side: 'A' | 'Z';\n  mouseEvent: any;\n}\n\nexport interface ArrowOptions {\n  width: number;\n  height: number;\n  offset: number;\n}\n\nexport interface WeathermapSettings {\n  link: {\n    spacing: {\n      horizontal: number;\n      vertical: number;\n    };\n    stroke: {\n      width: number;\n      color: string;\n    };\n    label: {\n      background: string;\n      border: string;\n      font: string;\n    };\n  };\n  linkArrow: ArrowOptions;\n  fontSizing: {\n    node: number;\n    link: number;\n  };\n  panel: PanelOptions;\n}\n\nexport interface Weathermap {\n  version: number;\n  id: string;\n  nodes: Node[];\n  links: Link[];\n  scale: { [propName: number]: string };\n  settings: WeathermapSettings;\n}\n\nexport interface SimpleOptions {\n  weathermap: Weathermap;\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { GrafanaTheme2 } from '@grafana/data';\nimport merge from 'lodash.merge';\nimport { Anchor, DrawnNode, Link, Node, Weathermap } from 'types';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const CURRENT_VERSION = 2;\n\nlet colorsCalculatedCache: { [colors: string]: string } = {};\n\n/**\n * Creates a solid color from an translucent foreground.\n * @param fg foreground color\n * @param bg background color\n * @returns calculated solid color\n */\nexport function getSolidFromAlphaColor(fg: string, bg: string): string {\n  if (bg.startsWith('image')) {\n    return getSolidFromAlphaColor(fg, bg.split('|', 3)[1]);\n  }\n\n  if (colorsCalculatedCache[fg + bg]) {\n    return colorsCalculatedCache[fg + bg];\n  }\n\n  let fgColor = parseColor(fg.toUpperCase());\n  if (fgColor.length < 4) {\n    return fg;\n  }\n\n  let bgColor = parseColor(bg.toUpperCase());\n  if (bgColor.length < 4) {\n    bgColor.push(1.0);\n  }\n\n  let finalColor = [\n    bgColor[0] + (fgColor[0] - bgColor[0]) * fgColor[3],\n    bgColor[1] + (fgColor[1] - bgColor[1]) * fgColor[3],\n    bgColor[2] + (fgColor[2] - bgColor[2]) * fgColor[3],\n  ];\n\n  colorsCalculatedCache[fg + bg] = `rgb(${finalColor.join(',')})`;\n  return `rgb(${finalColor.join(',')})`;\n}\n\n/**\n * Parses a given color into a useable rgb array.\n * @param input rgb or hex css string\n * @returns color as rgb array\n */\nfunction parseColor(input: string) {\n  if (input.substring(0, 1) === '#') {\n    let collen = (input.length - 1) / 3;\n    let factors = [17, 1, 0.062272];\n    let fact = factors[collen - 1];\n    return [\n      Math.round(parseInt(input.substring(1, 1 + collen), 16) * fact),\n      Math.round(parseInt(input.substring(1 + collen, 1 + 2 * collen), 16) * fact),\n      Math.round(parseInt(input.substring(1 + 2 * collen), 16) * fact),\n    ];\n  } else {\n    return input\n      .split('(')[1]\n      .split(')')[0]\n      .split(',')\n      .map((x) => +x);\n  }\n}\n\n// Taken from https://github.com/grafana/grafana/blob/main/packages/grafana-ui/src/utils/measureText.ts\n// I want to ensure this function remains available regardless of Grafana version\nconst context = document.createElement('canvas').getContext('2d')!;\nconst cache = new Map<string, TextMetrics>();\nconst cacheLimit = 500;\nlet ctxFontStyle = '';\n\nexport function measureText(text: string, fontSize: number): TextMetrics {\n  const fontStyle = `${fontSize}px 'Roboto'`;\n  const cacheKey = text + fontStyle;\n  const fromCache = cache.get(cacheKey);\n\n  if (fromCache) {\n    return fromCache;\n  }\n\n  if (ctxFontStyle !== fontStyle) {\n    context.font = ctxFontStyle = fontStyle;\n  }\n\n  const metrics = context.measureText(text);\n\n  if (cache.size === cacheLimit) {\n    cache.clear();\n  }\n\n  cache.set(cacheKey, metrics);\n\n  return metrics;\n}\n\n// Find the nearest place to snap to on the grid\nexport function nearestMultiple(input: number, grid: number): number {\n  return Math.ceil(input / grid) * grid;\n}\n\n// Calculate the automatically determined widths for nodes with multiple links.\nexport function calculateRectangleAutoWidth(d: DrawnNode, wm: Weathermap): number {\n  const widerSideLinks = Math.max(d.anchors[Anchor.Top].numLinks, d.anchors[Anchor.Bottom].numLinks);\n\n  const maxWidth =\n    wm.settings.link.stroke.width * (widerSideLinks - 1) +\n    wm.settings.link.spacing.horizontal * (widerSideLinks - 1) +\n    d.padding.horizontal * 2;\n\n  let final = 0;\n  if (d.label !== undefined) {\n    const labeledWidth = d.labelWidth + d.padding.horizontal * 2;\n    if (!d.useConstantSpacing) {\n      final = labeledWidth;\n    } else {\n      final = Math.max(labeledWidth, maxWidth);\n    }\n  } else {\n    final = 0;\n  }\n\n  if (\n    d.nodeIcon?.drawInside &&\n    final < d.nodeIcon.padding.horizontal + d.nodeIcon.size.width + d.padding.horizontal * 2\n  ) {\n    final += d.nodeIcon.padding.horizontal + d.nodeIcon.size.width + d.padding.horizontal * 2 - final;\n  }\n  return final;\n}\n\n// Calculate the auto-determined height of a node's rectangle\nexport function calculateRectangleAutoHeight(d: DrawnNode, wm: Weathermap): number {\n  const numLinks = Math.max(1, Math.max(d.anchors[Anchor.Left].numLinks, d.anchors[Anchor.Right].numLinks));\n  let minHeight = wm.settings.fontSizing.node + 2 * d.padding.vertical; // fontSize + padding\n\n  if (d.nodeIcon?.drawInside) {\n    minHeight += d.nodeIcon.size.height + 2 * d.nodeIcon.padding.vertical;\n  }\n\n  if (d.nodeIcon && d.label === '') {\n    minHeight -= wm.settings.fontSizing.node;\n  }\n\n  const linkHeight = wm.settings.link.stroke.width + wm.settings.link.spacing.vertical + 2 * d.padding.vertical;\n  const fullHeight = linkHeight * numLinks - wm.settings.link.spacing.vertical;\n  let final = !d.compactVerticalLinks && fullHeight > minHeight ? fullHeight : minHeight;\n\n  return final;\n}\n\n// Generate a basic Node at a certain position and with a certain label.\nexport function generateBasicNode(label: string, position: [number, number], theme: GrafanaTheme2): Node {\n  return {\n    id: uuidv4(),\n    position,\n    label,\n    anchors: {\n      0: { numLinks: 0, numFilledLinks: 0 },\n      1: { numLinks: 0, numFilledLinks: 0 },\n      2: { numLinks: 0, numFilledLinks: 0 },\n      3: { numLinks: 0, numFilledLinks: 0 },\n      4: { numLinks: 0, numFilledLinks: 0 },\n    },\n    useConstantSpacing: false,\n    compactVerticalLinks: false,\n    padding: {\n      vertical: 4,\n      horizontal: 10,\n    },\n    colors: {\n      font: theme.colors.secondary.contrastText,\n      background: theme.colors.secondary.main,\n      border: theme.colors.secondary.border,\n    },\n    nodeIcon: {\n      src: '',\n      name: '',\n      size: {\n        width: 0,\n        height: 0,\n      },\n      padding: {\n        vertical: 0,\n        horizontal: 0,\n      },\n      drawInside: false,\n    },\n  };\n}\n\nexport function generateBasicLink(nodes?: [Node, Node]): Link {\n  return {\n    id: uuidv4(),\n    // @ts-ignore\n    nodes: nodes ? nodes : [],\n    sides: {\n      A: {\n        bandwidth: 0,\n        bandwidthQuery: undefined,\n        query: undefined,\n        labelOffset: 55,\n        anchor: Anchor.Right,\n        dashboardLink: '',\n      },\n      Z: {\n        bandwidth: 0,\n        bandwidthQuery: undefined,\n        query: undefined,\n        labelOffset: 55,\n        anchor: Anchor.Left,\n        dashboardLink: '',\n      },\n    },\n    units: undefined,\n  };\n}\n\n// Handle file uploading errors consistently\nexport function handleFileUploadErrors(files: FileList | null): void {\n  if (files && files[0]) {\n    if (files[0].size > 1000000) {\n      throw new Error('File must be less than 1MB in size.');\n    }\n    if (!files[0].type.startsWith('image')) {\n      throw new Error('File type must be an image format.');\n    }\n  }\n}\n\nexport function handleVersionedStateUpdates(wm: Weathermap, theme: GrafanaTheme2): Weathermap {\n  const modelWeathermap: Weathermap = {\n    version: CURRENT_VERSION,\n    id: '',\n    nodes: [],\n    links: [],\n    scale: {},\n    settings: {\n      link: {\n        spacing: {\n          horizontal: 10,\n          vertical: 5,\n        },\n        stroke: {\n          width: 8,\n          color: theme.colors.secondary.main,\n        },\n        label: {\n          background: theme.colors.secondary.main,\n          border: theme.colors.secondary.border,\n          font: theme.colors.secondary.contrastText,\n        },\n      },\n      linkArrow: {\n        width: 8,\n        height: 10,\n        offset: 2,\n      },\n      fontSizing: {\n        node: 10,\n        link: 7,\n      },\n      panel: {\n        backgroundColor: theme.colors.background.primary,\n        panelSize: {\n          width: 600,\n          height: 600,\n        },\n        zoomScale: 0,\n        offset: {\n          x: 0,\n          y: 0,\n        },\n        grid: {\n          enabled: false,\n          size: 10,\n          guidesEnabled: false,\n        },\n      },\n    },\n  };\n\n  wm.version = CURRENT_VERSION;\n  wm.nodes = wm.nodes.map((n) => merge(generateBasicNode('Node A', [200, 300], theme), n));\n  wm.links = wm.links.map((l) => merge(generateBasicLink(), l));\n  wm = merge(modelWeathermap, wm);\n  console.log('updated weathermap state version', wm);\n  return wm;\n}\n","import React, { useMemo } from 'react';\nimport { DrawnNode, Weathermap } from '../types';\nimport {\n  nearestMultiple,\n  measureText,\n  getSolidFromAlphaColor,\n  calculateRectangleAutoWidth,\n  calculateRectangleAutoHeight,\n} from '../utils';\nimport { css } from 'emotion';\nimport { stylesFactory } from '@grafana/ui';\nimport { DraggableCore, DraggableEventHandler } from 'react-draggable';\n\ninterface NodeProps {\n  node: DrawnNode;\n  draggedNode: DrawnNode;\n  wm: Weathermap;\n  onDrag: DraggableEventHandler;\n  onStop: DraggableEventHandler;\n  disabled: boolean;\n}\n\n// Calculate the middle of the rectangle for text centering\nfunction calculateTextY(d: DrawnNode) {\n  return d.nodeIcon?.drawInside ? d.nodeIcon.size.height / 2 + d.nodeIcon.padding.vertical : 0;\n}\n\n// Find where to draw the rectangle for the node (top left x)\nfunction calculateRectX(d: DrawnNode, wm: Weathermap) {\n  const offset = Math.min(\n    -calculateRectangleAutoWidth(d, wm) / 2,\n    d.label !== undefined ? -(measureText(d.label, wm.settings.fontSizing.node).width / 2 + d.padding.horizontal) : 0\n  );\n  return offset;\n}\n\n// Find where to draw the rectangle for the node (top left y)\nfunction calculateRectY(d: DrawnNode, wm: Weathermap) {\n  return -calculateRectangleAutoHeight(d, wm) / 2;\n}\n\nconst MapNode: React.FC<NodeProps> = (props: NodeProps) => {\n  const { node, draggedNode, wm, onDrag, onStop, disabled } = props;\n  const styles = getStyles();\n\n  const rectX = useMemo(() => calculateRectX(node, wm), [node, wm]);\n  const rectY = useMemo(() => calculateRectY(node, wm), [node, wm]);\n  const rectWidth = useMemo(() => calculateRectangleAutoWidth(node, wm), [node, wm]);\n  const rectHeight = useMemo(() => calculateRectangleAutoHeight(node, wm), [node, wm]);\n  const textY = useMemo(() => calculateTextY(node), [node]);\n\n  return (\n    <DraggableCore disabled={disabled} onDrag={onDrag} onStop={onStop}>\n      <g\n        display={node.label !== undefined ? 'inline' : 'none'}\n        cursor={'move'}\n        transform={`translate(${\n          wm.settings.panel.grid.enabled && draggedNode && draggedNode.index === node.index\n            ? nearestMultiple(node.x, wm.settings.panel.grid.size)\n            : node.x\n        },\n                    ${\n                      wm.settings.panel.grid.enabled && draggedNode && draggedNode.index === node.index\n                        ? nearestMultiple(node.y, wm.settings.panel.grid.size)\n                        : node.y\n                    })`}\n      >\n        {node.label !== '' || node.nodeIcon?.drawInside ? (\n          <React.Fragment>\n            <rect\n              x={rectX}\n              y={rectY}\n              width={rectWidth}\n              height={rectHeight}\n              fill={getSolidFromAlphaColor(node.colors.background, wm.settings.panel.backgroundColor)}\n              stroke={getSolidFromAlphaColor(node.colors.border, wm.settings.panel.backgroundColor)}\n              strokeWidth={4}\n              rx={6}\n              ry={7}\n              style={{ paintOrder: 'stroke' }}\n            ></rect>\n            <text\n              x={0}\n              y={textY}\n              textAnchor={'middle'}\n              alignmentBaseline={'central'}\n              dominantBaseline={'central'}\n              fill={node.colors.font}\n              className={styles.nodeText}\n              fontSize={`${wm.settings.fontSizing.node}px`}\n            >\n              {node.label !== undefined ? node.label : ''}\n            </text>\n          </React.Fragment>\n        ) : (\n          ''\n        )}\n        {node.nodeIcon && node.nodeIcon.src !== '' ? (\n          <image\n            x={-node.nodeIcon.size.width / 2}\n            y={\n              node.nodeIcon.drawInside\n                ? node.label!.length > 0\n                  ? -(\n                      node.nodeIcon.size.height +\n                      node.nodeIcon.padding.vertical +\n                      measureText(node.label!, wm.settings.fontSizing.node).actualBoundingBoxAscent\n                    ) / 2\n                  : -node.nodeIcon.size.height / 2\n                : node.label!.length > 0\n                ? textY - node.nodeIcon.size.height - rectHeight / 2 - 1 - node.nodeIcon.padding.vertical\n                : -node.nodeIcon.size.height / 2\n            }\n            width={node.nodeIcon.size.width}\n            height={node.nodeIcon.size.height}\n            href={node.nodeIcon.src}\n          />\n        ) : (\n          ''\n        )}\n      </g>\n    </DraggableCore>\n  );\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    nodeText: css`\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -khtml-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      -o-user-select: none;\n      user-select: none;\n    `,\n  };\n});\n\nexport default MapNode;\n","import { stylesFactory, useTheme2 } from '@grafana/ui';\nimport { css, cx } from 'emotion';\nimport React, { useMemo } from 'react';\nimport { WeathermapSettings } from 'types';\n\ninterface ColorScaleProps {\n  colors: { [propName: string]: string };\n  settings: WeathermapSettings;\n}\n\nconst ColorScale: React.FC<ColorScaleProps> = (props: ColorScaleProps) => {\n  const { colors, settings } = props;\n  const styles = getStyles();\n  const theme = useTheme2();\n\n  // Calculate the height of a scale's sub-rectangle\n  const scaleHeights: { [num: number]: string } = useMemo(() => {\n    let c: { [num: number]: string } = {};\n    Object.keys(colors).forEach((percent, i) => {\n      const keys = Object.keys(colors);\n      const current: number = parseInt(keys[i], 10);\n      const next: number = keys[i + 1] !== undefined ? parseInt(keys[i + 1], 10) : 101;\n      let height: number = ((next - current) / 100) * 200;\n      c[i] = height.toString() + 'px';\n    });\n    return c;\n  }, [colors]);\n\n  return (\n    <div className={styles.colorScaleContainer}>\n      <div\n        className={cx(\n          styles.colorBoxTitle,\n          css`\n            color: ${theme.colors.getContrastText(\n              settings.panel.backgroundColor.startsWith('image')\n                ? settings.panel.backgroundColor.split('|', 3)[1]\n                : settings.panel.backgroundColor\n            )};\n          `\n        )}\n      >\n        Traffic Load\n      </div>\n      {Object.keys(colors).map((percent, i) => (\n        <div className={styles.colorScaleItem} key={i}>\n          <span\n            className={cx(\n              styles.colorBox,\n              css`\n                background: ${colors[percent]};\n                height: ${scaleHeights[i]};\n              `\n            )}\n          ></span>\n          <span\n            className={cx(\n              styles.colorLabel,\n              css`\n                color: ${theme.colors.getContrastText(\n                  settings.panel.backgroundColor.startsWith('image')\n                    ? settings.panel.backgroundColor.split('|', 3)[1]\n                    : settings.panel.backgroundColor\n                )};\n              `\n            )}\n          >\n            {percent +\n              '%' +\n              (Object.keys(colors)[i + 1] === undefined\n                ? percent === '100'\n                  ? ''\n                  : ' - 100%'\n                : ' - ' + Object.keys(colors)[i + 1] + '%')}\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    colorScaleContainer: css`\n      position: relative;\n      bottom: 0;\n      left: 0;\n      padding: 10px;\n      display: flex;\n      flex-direction: column;\n      color: black;\n      z-index: 2;\n      width: 200px;\n    `,\n    colorBoxTitle: css`\n      font-size: 16px;\n      font-weight: bold;\n      padding: 5px 0px;\n    `,\n    colorScaleItem: css`\n      display: flex;\n      align-items: center;\n    `,\n    colorBox: css`\n      width: 50px;\n      margin-right: 5px;\n    `,\n    colorLabel: css`\n      line-height: 0px;\n      font-size: 12px;\n    `,\n  };\n});\n\nexport default React.memo(ColorScale);\n","import React, { useEffect, useState, useRef, useMemo } from 'react';\nimport { PanelProps, scaledUnits } from '@grafana/data';\nimport {\n  Anchor,\n  DrawnLink,\n  DrawnNode,\n  Link,\n  LinkSide,\n  Node,\n  SimpleOptions,\n  Position,\n  Weathermap,\n  HoveredLink,\n} from 'types';\nimport { css, cx } from 'emotion';\nimport { stylesFactory, useTheme2 } from '@grafana/ui';\nimport {\n  measureText,\n  getSolidFromAlphaColor,\n  nearestMultiple,\n  calculateRectangleAutoWidth,\n  calculateRectangleAutoHeight,\n  CURRENT_VERSION,\n  handleVersionedStateUpdates,\n} from 'utils';\nimport MapNode from './components/MapNode';\nimport ColorScale from 'components/ColorScale';\n\n// Calculate node position, width, etc.\nfunction generateDrawnNode(d: Node, i: number, wm: Weathermap): DrawnNode {\n  let toReturn: DrawnNode = Object.create(d);\n  toReturn.index = i;\n  toReturn.x = toReturn.position[0];\n  toReturn.y = toReturn.position[1];\n  toReturn.labelWidth = measureText(d.label ? d.label : '', wm.settings.fontSizing.node).width;\n  toReturn.anchors = {\n    0: { numLinks: toReturn.anchors[0].numLinks, numFilledLinks: 0 },\n    1: { numLinks: toReturn.anchors[1].numLinks, numFilledLinks: 0 },\n    2: { numLinks: toReturn.anchors[2].numLinks, numFilledLinks: 0 },\n    3: { numLinks: toReturn.anchors[3].numLinks, numFilledLinks: 0 },\n    4: { numLinks: toReturn.anchors[4].numLinks, numFilledLinks: 0 },\n  };\n  return toReturn;\n}\n\n// Format link values as the proper prefix of bits\nconst linkValueFormatter = scaledUnits(1000, ['b', 'Kb', 'Mb', 'Gb', 'Tb']);\n\n/**\n * Weathermap panel component.\n */\nexport const WeathermapPanel: React.FC<PanelProps<SimpleOptions>> = (props: PanelProps<SimpleOptions>) => {\n  const { options, data, width: width2, height: height2, onOptionsChange, timeRange } = props;\n  const styles = getStyles();\n  const theme = useTheme2();\n  const wm = options.weathermap;\n\n  if (wm && (!wm.version || wm.version !== CURRENT_VERSION)) {\n    onOptionsChange({ weathermap: handleVersionedStateUpdates(wm, theme) });\n  }\n\n  const isEditMode = window.location.search.includes('editPanel');\n\n  // Color scales\n  const colors: any = useMemo(() => {\n    const c: any = {};\n    Object.keys(wm.scale).forEach((pct: string) => {\n      c[parseInt(pct, 10)] = options.weathermap.scale[parseInt(pct, 10)];\n    });\n    return c;\n  }, [wm.scale, options]);\n\n  function getScaleColor(current: number, max: number) {\n    if (max === 0) {\n      return getSolidFromAlphaColor(wm.settings.link.stroke.color, wm.settings.panel.backgroundColor);\n    }\n\n    const percent = Math.round((current / max) * 100);\n    let actual = '';\n    Object.keys(colors).forEach((amount: string) => {\n      if (parseInt(amount, 10) <= percent) {\n        actual = amount;\n      }\n    });\n    return colors[actual];\n  }\n\n  // Get the middle point between two nodes\n  function getMiddlePoint(source: Position, target: Position, offset: number): Position {\n    const x = (source.x + target.x) / 2;\n    const y = (source.y + target.y) / 2;\n    const a = target.x - source.x;\n    const b = target.y - source.y;\n    const dist = Math.sqrt(a * a + b * b);\n    const newX = x - (offset * (target.x - source.x)) / dist;\n    const newY = y - (offset * (target.y - source.y)) / dist;\n    return { x: newX, y: newY };\n  }\n\n  // Get a point a percentage of the way between two nodes\n  function getPercentPoint(source: Position, target: Position, percent: number): Position {\n    const newX = target.x + (source.x - target.x) * percent;\n    const newY = target.y + (source.y - target.y) * percent;\n    return { x: newX, y: newY };\n  }\n\n  // Find the points that create the two other points of a triangle for the arrow's tip\n  function getArrowPolygon(_p1: any, _p2: any) {\n    let h = wm.settings.linkArrow.height;\n    let w = wm.settings.linkArrow.width / 2;\n    let vec1 = { x: _p2.x - _p1.x, y: _p2.y - _p1.y };\n    let length = Math.sqrt(vec1.x * vec1.x + vec1.y * vec1.y);\n    vec1.x = vec1.x / length;\n    vec1.y = vec1.y / length;\n    let vec2 = { x: -vec1.y, y: vec1.x };\n    let v1 = { x: _p2.x - h * vec1.x + w * vec2.x, y: _p2.y - h * vec1.y + w * vec2.y };\n    let v2 = { x: _p2.x - h * vec1.x - w * vec2.x, y: _p2.y - h * vec1.y - w * vec2.y };\n    return { p1: v1, p2: v2 };\n  }\n\n  const [nodes, setNodes] = useState(\n    wm.nodes.map((d, i) => {\n      return generateDrawnNode(d, i, wm);\n    })\n  );\n\n  // To be used to calculate how many links we've drawn\n  let tempNodes = nodes.slice();\n\n  const [links, setLinks] = useState(\n    wm\n      ? wm.links.map((d, i) => {\n          return generateDrawnLink(d, i);\n        })\n      : []\n  );\n\n  // Calculate aspect-ratio corrected drag positions\n  function getScaledMousePos(pos: { x: number; y: number }): { x: number; y: number } {\n    const zoomAmt = Math.pow(1.2, wm.settings.panel.zoomScale);\n    return {\n      x: pos.x * zoomAmt * aspectMultiplier,\n      y: pos.y * zoomAmt * aspectMultiplier,\n    };\n  }\n\n  // Calculate the position of a link given the node and side information\n  function getMultiLinkPosition(d: DrawnNode, side: LinkSide): Position {\n    // Set initial x and y values for links. Defaults to center x of the node, and the middle y.\n    let x = d.x;\n    let y = d.y;\n\n    // Set x and y to the rounded value if we are using the grid\n    x =\n      wm.settings.panel.grid.enabled && draggedNode && draggedNode.index === d.index\n        ? nearestMultiple(d.x, wm.settings.panel.grid.size)\n        : x;\n    y =\n      wm.settings.panel.grid.enabled && draggedNode && draggedNode.index === d.index\n        ? nearestMultiple(d.y, wm.settings.panel.grid.size)\n        : y;\n\n    // Change x values for left/right anchors\n    if (side.anchor === Anchor.Left || side.anchor === Anchor.Right) {\n      // Align left/right\n      if (side.anchor === Anchor.Left) {\n        x -= calculateRectangleAutoWidth(d, wm) / 2 - wm.settings.link.stroke.width / 2;\n      } else {\n        x += calculateRectangleAutoWidth(d, wm) / 2 - wm.settings.link.stroke.width / 2;\n      }\n      // Calculate vertical alignments given # of links\n      if (!d.compactVerticalLinks && d.anchors[side.anchor].numLinks > 1) {\n        const linkHeight = wm.settings.link.stroke.width + wm.settings.link.spacing.vertical;\n        const fullHeight =\n          linkHeight * d.anchors[side.anchor].numLinks -\n          wm.settings.link.spacing.vertical -\n          wm.settings.link.stroke.width;\n        y -= fullHeight / 2;\n        y +=\n          (d.anchors[side.anchor].numFilledLinks + 1) * wm.settings.link.stroke.width +\n          d.anchors[side.anchor].numFilledLinks * wm.settings.link.spacing.vertical -\n          wm.settings.link.stroke.width;\n      }\n    } else if (side.anchor !== Anchor.Center) {\n      if (d.useConstantSpacing) {\n        // To be used with constant-spacing\n        const maxWidth =\n          wm.settings.link.stroke.width * (d.anchors[side.anchor].numLinks - 1) +\n          wm.settings.link.spacing.horizontal * (d.anchors[side.anchor].numLinks - 1);\n        x +=\n          -maxWidth / 2 +\n          d.anchors[side.anchor].numFilledLinks * (wm.settings.link.stroke.width + wm.settings.link.spacing.horizontal);\n      } else {\n        // To be used with auto-spacing\n        const paddedWidth = d.labelWidth + d.padding.horizontal * 2;\n        x +=\n          -paddedWidth / 2 +\n          (d.anchors[side.anchor].numFilledLinks + 1) *\n            (paddedWidth / (nodes[d.index].anchors[side.anchor].numLinks + 1));\n      }\n      // Add height if we are at the bottom;\n      if (side.anchor === Anchor.Bottom) {\n        y += calculateRectangleAutoHeight(d, wm) / 2 - wm.settings.link.stroke.width / 2;\n      } else if (side.anchor === Anchor.Top) {\n        y -= calculateRectangleAutoHeight(d, wm) / 2;\n        y += wm.settings.link.stroke.width / 2;\n      }\n    }\n    // Mark that we've drawn another link\n    d.anchors[side.anchor].numFilledLinks++;\n    return { x, y };\n  }\n\n  // Calculate link positions / text / colors / etc.\n  function generateDrawnLink(d: Link, i: number): DrawnLink {\n    let toReturn: DrawnLink = Object.create(d);\n    toReturn.index = i;\n\n    // Set the link's source and target node\n    toReturn.source = nodes.filter((n) => n.id === toReturn.nodes[0].id)[0];\n    toReturn.target = nodes.filter((n) => n.id === toReturn.nodes[1].id)[0];\n\n    let dataFrames = data.series.filter(\n      (series) => series.name === toReturn.sides.A.query || series.name === toReturn.sides.Z.query\n    );\n\n    let dataValues = dataFrames.map((frame) => {\n      return {\n        value: frame.fields[1].values.get(frame.fields[1].values.length - 1),\n        name: frame.name,\n      };\n    });\n\n    // For each of our A/Z sides\n    for (let s = 0; s < 2; s++) {\n      const side: 'A' | 'Z' = s === 0 ? 'A' : 'Z';\n\n      // Check if we have a query to run for this side\n      if (toReturn.sides[side].bandwidthQuery) {\n        let dataFrame = data.series\n          .filter((series) => series.name === toReturn.sides[side].bandwidthQuery)\n          .map((frame) => frame.fields[1].values.get(0));\n\n        toReturn.sides[side].bandwidth = dataFrame.length > 0 ? dataFrame[0] : 0;\n      }\n\n      // Set the display value to zero, just in case nothing exists\n      toReturn.sides[side].currentValue = 0;\n      toReturn.sides[side].currentText = 'n/a';\n\n      // Set the text if we have a query\n      if (toReturn.sides[side].query) {\n        let dataSource = toReturn.sides[side].query;\n        let values = dataValues.filter((s) => s.name === dataSource);\n\n        toReturn.sides[side].currentValue = values[0] ? values[0].value : 0;\n\n        let scaledSideValue = linkValueFormatter(toReturn.sides[side].currentValue);\n        toReturn.sides[side].currentText = `${scaledSideValue.text} ${scaledSideValue.suffix}/s`;\n      }\n\n      let scaledBandwidth = linkValueFormatter(toReturn.sides[side].bandwidth);\n      toReturn.sides[side].currentBandwidthText = `${scaledBandwidth.text} ${scaledBandwidth.suffix}/s`;\n    }\n\n    // Calculate positions for links and arrow polygons. Not included above to help with typing.\n    if (i === 0) {\n      tempNodes = tempNodes.map((n) => {\n        n.anchors = {\n          0: { numLinks: n.anchors[0].numLinks, numFilledLinks: 0 },\n          1: { numLinks: n.anchors[1].numLinks, numFilledLinks: 0 },\n          2: { numLinks: n.anchors[2].numLinks, numFilledLinks: 0 },\n          3: { numLinks: n.anchors[3].numLinks, numFilledLinks: 0 },\n          4: { numLinks: n.anchors[4].numLinks, numFilledLinks: 0 },\n        };\n        return n;\n      });\n    }\n\n    toReturn.lineStartA = getMultiLinkPosition(tempNodes[toReturn.source.index], toReturn.sides.A);\n    toReturn.lineStartZ = getMultiLinkPosition(tempNodes[toReturn.target.index], toReturn.sides.Z);\n\n    toReturn.lineEndA = getMiddlePoint(\n      toReturn.lineStartZ,\n      toReturn.lineStartA,\n      -wm.settings.linkArrow.offset - wm.settings.linkArrow.height\n    );\n    toReturn.arrowCenterA = getMiddlePoint(toReturn.lineStartZ, toReturn.lineStartA, -wm.settings.linkArrow.offset);\n    toReturn.arrowPolygonA = getArrowPolygon(toReturn.lineStartA, toReturn.arrowCenterA);\n\n    toReturn.lineEndZ = getMiddlePoint(\n      toReturn.lineStartZ,\n      toReturn.lineStartA,\n      wm.settings.linkArrow.offset + wm.settings.linkArrow.height\n    );\n    toReturn.arrowCenterZ = getMiddlePoint(toReturn.lineStartZ, toReturn.lineStartA, wm.settings.linkArrow.offset);\n    toReturn.arrowPolygonZ = getArrowPolygon(toReturn.lineStartZ, toReturn.arrowCenterZ);\n\n    return toReturn;\n  }\n\n  // Minimize uneeded state changes\n  const mounted = useRef(false);\n\n  // Update nodes on props change\n  useEffect(() => {\n    if (!mounted.current) {\n      mounted.current = true;\n    } else {\n      setNodes(\n        options.weathermap.nodes.map((d, i) => {\n          return generateDrawnNode(d, i, options.weathermap);\n        })\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options]);\n\n  tempNodes = nodes.slice();\n\n  // Update links on nodes change\n  useEffect(() => {\n    setLinks(\n      options.weathermap.links.map((d, i) => {\n        return generateDrawnLink(d, i);\n      })\n    );\n    // Yes, technically this allows for stale states if it were to updated in any way other than being passed down. But it's not.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [nodes]);\n\n  const zoom = (e: WheelEvent) => {\n    // Just don't allow zooming when not in edit mode\n    if (!isEditMode) {\n      return;\n    }\n\n    let zoomed: Weathermap = wm;\n\n    if (e.deltaY > 0) {\n      zoomed.settings.panel.zoomScale += 1;\n    } else {\n      zoomed.settings.panel.zoomScale -= 1;\n    }\n    onOptionsChange({\n      weathermap: zoomed,\n    });\n  };\n\n  const [isDragging, setDragging] = useState(false);\n\n  let aspectX = wm.settings.panel.panelSize.width / width2;\n  let aspectY = wm.settings.panel.panelSize.height / height2;\n  let aspectMultiplier = Math.max(aspectX, aspectY);\n\n  const updateAspects = () => {\n    aspectX = wm.settings.panel.panelSize.width / width2;\n    aspectY = wm.settings.panel.panelSize.height / height2;\n    aspectMultiplier = Math.max(aspectX, aspectY);\n  };\n\n  const [offset, setOffset] = useState(wm.settings.panel.offset);\n\n  const drag = (e: any) => {\n    if (e.ctrlKey || e.buttons === 4) {\n      e.nativeEvent.preventDefault();\n      const zoomAmt = Math.pow(1.2, wm.settings.panel.zoomScale);\n\n      setOffset((prev) => {\n        return {\n          x: prev.x + e.nativeEvent.movementX * zoomAmt * aspectMultiplier,\n          y: prev.y + e.nativeEvent.movementY * zoomAmt * aspectMultiplier,\n        };\n      });\n    }\n  };\n\n  const [hoveredLink, setHoveredLink] = useState(null as unknown as HoveredLink);\n\n  const handleLinkHover = (d: DrawnLink, side: 'A' | 'Z', e: any) => {\n    setHoveredLink({ link: d, side, mouseEvent: e });\n  };\n\n  const handleLinkHoverLoss = () => {\n    setHoveredLink(null as unknown as HoveredLink);\n  };\n\n  const [draggedNode, setDraggedNode] = useState(null as unknown as DrawnNode);\n\n  // const extraWidthOffset = ((width2/height2) * wm.settings.panel.panelSize.height - wm.settings.panel.panelSize.width) / 2;\n\n  if (wm) {\n    return (\n      <div\n        className={cx(\n          styles.wrapper,\n          css`\n            width: ${width2}px;\n            height: ${height2}px;\n            position: relative;\n          `\n        )}\n      >\n        {hoveredLink ? (\n          <div\n            className={css`\n              position: absolute;\n              top: ${hoveredLink.mouseEvent.nativeEvent.layerY}px;\n              left: ${hoveredLink.mouseEvent.nativeEvent.layerX}px;\n              transform: translate(0%, -100%);\n              background-color: black;\n              z-index: 1000;\n              display: ${hoveredLink ? 'flex' : 'none'};\n              flex-direction: column;\n              cursor: none;\n              padding: 5px;\n              border-radius: 4px;\n            `}\n          >\n            <div>Usage: {hoveredLink.link.sides[hoveredLink.side].currentText}</div>\n            <div>Bandwidth: {hoveredLink.link.sides[hoveredLink.side].currentBandwidthText}</div>\n            <div>{hoveredLink.link.sides[hoveredLink.side].dashboardLink.length > 0 ? 'Click to see more.' : ''}</div>\n          </div>\n        ) : (\n          ''\n        )}\n        <ColorScale colors={colors} settings={wm.settings} />\n        <svg\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            backgroundImage: wm.settings.panel.backgroundColor.startsWith('image')\n              ? `url(${wm.settings.panel.backgroundColor.split('|', 3)[2]})`\n              : 'none',\n            backgroundSize: 'contain',\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundColor: wm.settings.panel.backgroundColor.startsWith('image')\n              ? 'none'\n              : wm.settings.panel.backgroundColor,\n          }}\n          id={`nw-${wm.id}${isEditMode ? '_' : ''}`}\n          width={width2}\n          height={height2}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n          viewBox={`0 0 ${wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale)} ${\n            wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale)\n          }`}\n          shapeRendering=\"crispEdges\"\n          textRendering=\"geometricPrecision\"\n          fontFamily=\"sans-serif\"\n          // @ts-ignore\n          onWheel={zoom}\n          onMouseDown={(e) => {\n            e.preventDefault();\n            updateAspects();\n            setDragging(true);\n          }}\n          onMouseMove={(e) => {\n            if (isDragging && (e.ctrlKey || e.buttons === 4)) {\n              drag(e);\n            }\n          }}\n          onMouseUp={() => {\n            setDragging(false);\n            let panned = wm;\n            panned.settings.panel.offset = offset;\n            onOptionsChange({ weathermap: panned });\n          }}\n        >\n          {wm.settings.panel.grid.enabled ? (\n            <defs>\n              <pattern\n                id=\"smallGrid\"\n                width={wm.settings.panel.grid.size}\n                height={wm.settings.panel.grid.size}\n                patternUnits=\"userSpaceOnUse\"\n              >\n                <path\n                  d={`M ${wm.settings.panel.grid.size} 0 L 0 0 0 ${wm.settings.panel.grid.size}`}\n                  fill=\"none\"\n                  stroke=\"gray\"\n                  strokeWidth=\"2\"\n                  opacity={1}\n                />\n              </pattern>\n            </defs>\n          ) : (\n            ''\n          )}\n          <g\n            transform={`translate(${\n              (wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.width) /\n                2 +\n              offset.x\n            }, ${\n              (wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.height) /\n                2 +\n              offset.y\n            })`}\n            overflow=\"visible\"\n          >\n            {wm.settings.panel.grid.guidesEnabled ? (\n              <>\n                <rect\n                  x={\n                    wm.nodes.length > 0\n                      ? wm.nodes[0].position[0] -\n                        wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) * 2\n                      : 0\n                  }\n                  y={\n                    wm.nodes.length > 0\n                      ? wm.nodes[0].position[1] -\n                        wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) * 2\n                      : 0\n                  }\n                  width={wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) * 4}\n                  height={wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) * 4}\n                  fill=\"url(#smallGrid)\"\n                />\n              </>\n            ) : (\n              ''\n            )}\n          </g>\n          <g\n            transform={`translate(${\n              (wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.width) /\n                2 +\n              offset.x\n            }, ${\n              (wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.height) /\n                2 +\n              offset.y\n            })`}\n          >\n            <g>\n              {links.map((d, i) => {\n                if (d.nodes[0].id === d.nodes[1].id) {\n                  return;\n                }\n                return (\n                  <g\n                    key={i}\n                    className=\"line\"\n                    strokeOpacity={1}\n                    width={Math.abs(d.target.x - d.source.x)}\n                    height={Math.abs(d.target.y - d.source.y)}\n                  >\n                    <line\n                      strokeWidth={wm.settings.link.stroke.width}\n                      stroke={getScaleColor(d.sides.A.currentValue, d.sides.A.bandwidth)}\n                      x1={d.lineStartA.x}\n                      y1={d.lineStartA.y}\n                      x2={d.lineEndA.x}\n                      y2={d.lineEndA.y}\n                      onMouseMove={(e) => {\n                        handleLinkHover(d, 'A', e);\n                      }}\n                      onMouseOut={handleLinkHoverLoss}\n                      onClick={() => {\n                        if (d.sides.A.dashboardLink.length > 0) {\n                          window.location.href = d.sides.A.dashboardLink;\n                        }\n                      }}\n                      style={d.sides.A.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                    ></line>\n                    <polygon\n                      points={`\n                                        ${d.arrowCenterA.x}\n                                        ${d.arrowCenterA.y}\n                                        ${d.arrowPolygonA.p1.x}\n                                        ${d.arrowPolygonA.p1.y}\n                                        ${d.arrowPolygonA.p2.x}\n                                        ${d.arrowPolygonA.p2.y}\n                                    `}\n                      fill={getScaleColor(d.sides.A.currentValue, d.sides.A.bandwidth)}\n                      onMouseMove={(e) => {\n                        handleLinkHover(d, 'A', e);\n                      }}\n                      onMouseOut={handleLinkHoverLoss}\n                      onClick={() => {\n                        if (d.sides.A.dashboardLink.length > 0) {\n                          window.location.href = d.sides.A.dashboardLink;\n                        }\n                      }}\n                      style={d.sides.A.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                    ></polygon>\n                    <line\n                      strokeWidth={wm.settings.link.stroke.width}\n                      stroke={getScaleColor(d.sides.Z.currentValue, d.sides.Z.bandwidth)}\n                      x1={d.lineStartZ.x}\n                      y1={d.lineStartZ.y}\n                      x2={d.lineEndZ.x}\n                      y2={d.lineEndZ.y}\n                      onMouseMove={(e) => {\n                        handleLinkHover(d, 'Z', e);\n                      }}\n                      onMouseOut={handleLinkHoverLoss}\n                      onClick={() => {\n                        if (d.sides.Z.dashboardLink.length > 0) {\n                          window.location.href = d.sides.Z.dashboardLink;\n                        }\n                      }}\n                      style={d.sides.Z.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                    ></line>\n                    <polygon\n                      points={`\n                                        ${d.arrowCenterZ.x}\n                                        ${d.arrowCenterZ.y}\n                                        ${d.arrowPolygonZ.p1.x}\n                                        ${d.arrowPolygonZ.p1.y}\n                                        ${d.arrowPolygonZ.p2.x}\n                                        ${d.arrowPolygonZ.p2.y}\n                                    `}\n                      fill={getScaleColor(d.sides.Z.currentValue, d.sides.Z.bandwidth)}\n                      onMouseMove={(e) => {\n                        handleLinkHover(d, 'Z', e);\n                      }}\n                      onMouseOut={handleLinkHoverLoss}\n                      onClick={() => {\n                        if (d.sides.Z.dashboardLink.length > 0) {\n                          window.location.href = d.sides.Z.dashboardLink;\n                        }\n                      }}\n                      style={d.sides.Z.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                    ></polygon>\n                  </g>\n                );\n              })}\n            </g>\n            <g>\n              {links.map((d, i) => {\n                if (d.nodes[0].id === d.nodes[1].id) {\n                  return;\n                }\n                const transform = getPercentPoint(d.lineStartZ, d.lineStartA, 0.5 * (d.sides.A.labelOffset / 100));\n                return (\n                  <g fontStyle={'italic'} transform={`translate(${transform.x},${transform.y})`} key={i}>\n                    <rect\n                      x={\n                        -measureText(`${d.sides.A.currentText}`, wm.settings.fontSizing.link).width / 2 -\n                        (wm.settings.fontSizing.link * 1.5) / 2\n                      }\n                      y={-wm.settings.fontSizing.link}\n                      width={\n                        measureText(`${d.sides.A.currentText}`, wm.settings.fontSizing.link).width +\n                        wm.settings.fontSizing.link * 1.5\n                      }\n                      height={wm.settings.fontSizing.link * 2}\n                      fill={getSolidFromAlphaColor(\n                        wm.settings.link.label.background,\n                        wm.settings.panel.backgroundColor\n                      )}\n                      stroke={getSolidFromAlphaColor(wm.settings.link.label.border, wm.settings.panel.backgroundColor)}\n                      strokeWidth={2}\n                      rx={(wm.settings.fontSizing.link + 8) / 2}\n                    ></rect>\n                    <text\n                      x={0}\n                      y={\n                        measureText(`${d.sides.A.currentText}`, wm.settings.fontSizing.link).actualBoundingBoxAscent / 2\n                      }\n                      textAnchor={'middle'}\n                      fontSize={`${wm.settings.fontSizing.link}px`}\n                      fill={wm.settings.link.label.font}\n                    >\n                      {`${d.sides.A.currentText}`}\n                    </text>\n                  </g>\n                );\n              })}\n            </g>\n            <g>\n              {links.map((d, i) => {\n                if (d.nodes[0].id === d.nodes[1].id) {\n                  return;\n                }\n                const transform = getPercentPoint(d.lineStartA, d.lineStartZ, 0.5 * (d.sides.Z.labelOffset / 100));\n                return (\n                  <g key={i} fontStyle={'italic'} transform={`translate(${transform.x},${transform.y})`}>\n                    <rect\n                      x={\n                        -measureText(`${d.sides.Z.currentText}`, wm.settings.fontSizing.link).width / 2 -\n                        (wm.settings.fontSizing.link * 1.5) / 2\n                      }\n                      y={-wm.settings.fontSizing.link}\n                      width={\n                        measureText(`${d.sides.Z.currentText}`, wm.settings.fontSizing.link).width +\n                        wm.settings.fontSizing.link * 1.5\n                      }\n                      height={wm.settings.fontSizing.link * 2}\n                      fill={getSolidFromAlphaColor(\n                        wm.settings.link.label.background,\n                        wm.settings.panel.backgroundColor\n                      )}\n                      stroke={getSolidFromAlphaColor(wm.settings.link.label.border, wm.settings.panel.backgroundColor)}\n                      strokeWidth={2}\n                      rx={(wm.settings.fontSizing.link + 8) / 2}\n                    ></rect>\n                    <text\n                      x={0}\n                      y={\n                        measureText(`${d.sides.Z.currentText}`, wm.settings.fontSizing.link).actualBoundingBoxAscent / 2\n                      }\n                      textAnchor={'middle'}\n                      fontSize={`${wm.settings.fontSizing.link}px`}\n                      fill={wm.settings.link.label.font}\n                    >\n                      {`${d.sides.Z.currentText}`}\n                    </text>\n                  </g>\n                );\n              })}\n            </g>\n            <g>\n              {nodes.map((d, i) => (\n                <MapNode\n                  key={d.id}\n                  {...{\n                    node: d,\n                    draggedNode: draggedNode,\n                    wm: wm,\n                    onDrag: (e, position) => {\n                      // Return early if we actually want to just pan the whole weathermap.\n                      if (e.ctrlKey) {\n                        return;\n                      }\n\n                      // Otherwise set our currently dragged node and manage scaling and grid settings.\n                      setDraggedNode(d);\n                      setNodes((prevState) =>\n                        prevState.map((val, index) => {\n                          if (index === i) {\n                            const scaledPos = getScaledMousePos({ x: position.deltaX, y: position.deltaY });\n                            val.x = Math.round(\n                              wm.settings.panel.grid.enabled\n                                ? wm.nodes[i].position[0] + (val.x + scaledPos.x - wm.nodes[i].position[0])\n                                : val.x + scaledPos.x\n                            );\n                            val.y = Math.round(\n                              wm.settings.panel.grid.enabled\n                                ? wm.nodes[i].position[1] + (val.y + scaledPos.y - wm.nodes[i].position[1])\n                                : val.y + scaledPos.y\n                            );\n                          }\n                          return val;\n                        })\n                      );\n                      tempNodes = nodes.slice();\n                      setLinks(\n                        wm.links.map((d, i) => {\n                          return generateDrawnLink(d, i);\n                        })\n                      );\n                    },\n                    onStop: (e, position) => {\n                      // setDraggedNode(null as unknown as DrawnNode);\n                      setDraggedNode(null as unknown as DrawnNode);\n                      let current: Weathermap = wm;\n                      current.nodes[i].position = [\n                        wm.settings.panel.grid.enabled\n                          ? nearestMultiple(nodes[i].x, wm.settings.panel.grid.size)\n                          : nodes[i].x,\n                        wm.settings.panel.grid.enabled\n                          ? nearestMultiple(nodes[i].y, wm.settings.panel.grid.size)\n                          : nodes[i].y,\n                      ];\n                      onOptionsChange({\n                        ...options,\n                        weathermap: current,\n                      });\n                    },\n                    disabled: !isEditMode,\n                  }}\n                />\n              ))}\n            </g>\n          </g>\n        </svg>\n        <div\n          className={cx(\n            styles.timeText,\n            css`\n              color: ${theme.colors.getContrastText(\n                wm.settings.panel.backgroundColor.startsWith('image')\n                  ? wm.settings.panel.backgroundColor.split('|', 3)[1]\n                  : wm.settings.panel.backgroundColor\n              )};\n            `\n          )}\n        >\n          {timeRange.from.toLocaleString()}\n        </div>\n      </div>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    wrapper: css`\n      position: relative;\n      font-size: 10px;\n      font-family: sans-serif;\n    `,\n    textBox: css`\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      padding: 10px;\n    `,\n    nodeText: css`\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -khtml-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      -o-user-select: none;\n      user-select: none;\n    `,\n    timeText: css`\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      color: black;\n      padding: 5px 10px;\n      font-size: 12px;\n    `,\n  };\n});\n","export const CiscoIcons = [\n  '100baset-hub',\n  '10700',\n  '10ge-fcoe',\n  '15200',\n  '3x74-floor-cluster-control',\n  '6700-series',\n  '7500ars7513',\n  'accesspoint',\n  'ace',\n  'acs',\n  'adm',\n  'androgenous-person',\n  'antenna',\n  'asa-5500',\n  'asic-processor',\n  'asr-1000-series',\n  'ata',\n  'atm-3800',\n  'atm-fast-gigabit',\n  'atm-router',\n  'atm-switch',\n  'atm-tag-switch-router',\n  'avs',\n  'axp',\n  'bbsm',\n  'branch-office',\n  'breakout-box',\n  'bridge',\n  'broadcast-router',\n  'bts-10200',\n  'cable-modem',\n  'callmanager',\n  'car',\n  'carrier-routing-system',\n  'cddi-fddi',\n  'cdm',\n  'cell-phone',\n  'centri-firewall',\n  'cisco-1000',\n  'cisco-ca',\n  'cisco-file-engine',\n  'cisco-hub',\n  'cisco-security',\n  'cisco-unified-presence-server',\n  'cisco-unity-express',\n  'cisco-works',\n  'class-4-5-switch',\n  'cloud',\n  'communications-server',\n  'congtent-switch-module',\n  'contact-center',\n  'content-acquirer',\n  'content-engine-cache-director',\n  'content-service-router',\n  'content-service-switch-1100',\n  'content-switch',\n  'content-transformation-engine-',\n  'cs-mars',\n  'csm-s',\n  'csu-dsu',\n  'cube',\n  'detector',\n  'director-class-fibre-channel-di',\n  'directory-server',\n  'diskette',\n  'distributed-director',\n  'dot-dot',\n  'dpt',\n  'dslam',\n  'dual-mode',\n  'dwdm-filter',\n  'end-office',\n  'fax',\n  'fc-storage',\n  'fddi-ring',\n  'fibre-channel-disk-subsystem',\n  'fibre-channel-fabric-switch',\n  'file-cabinet',\n  'file-server',\n  'fileserver',\n  'firewall-service-module-fwsm',\n  'firewall',\n  'front-end-processor',\n  'gatekeeper',\n  'general-appliance',\n  'generic-building',\n  'generic-gateway',\n  'generic-processor',\n  'generic-softswitch',\n  'gigabit-switch-atm-tag-router',\n  'government-building',\n  'ground-terminal',\n  'guard',\n  'h323',\n  'handheld',\n  'hootphone',\n  'host',\n  'hp-mini',\n  'hub',\n  'iad-router',\n  'ibm-mainframe',\n  'ibm-mini-as400',\n  'ibm-tower',\n  'icm',\n  'ics',\n  'intelliswitch-stack',\n  'internet-streamer',\n  'ios-firewall',\n  'ios-slb',\n  'ip-communicator',\n  'ip-dsl',\n  'ip-phone',\n  'ip-telephony-router',\n  'ip',\n  'iptc',\n  'iptv-content-manager',\n  'iptv-server',\n  'iscsi-router',\n  'isdn-switch',\n  'itp',\n  'jbod',\n  'key',\n  'keys',\n  'lan-to-lan',\n  'laptop',\n  'layer-2-remote-switch',\n  'layer-3-switch',\n  'lightweight-ap',\n  'localdirector',\n  'lock',\n  'longreach-cpe',\n  'mac-woman',\n  'macintosh',\n  'man-woman',\n  'mas-gateway',\n  'mau',\n  'mcu',\n  'mdu',\n  'me1100',\n  'mediator',\n  'meetingplace',\n  'mesh-ap',\n  'metro-1500',\n  'mgx-8000-multiservice-switch',\n  'microphone',\n  'microwebserver',\n  'mini-vax',\n  'mobile-access-ip-phone',\n  'mobile-access-router',\n  'mobile-streamer',\n  'modem',\n  'moh-server',\n  'mse',\n  'multi-fabric-server-switch',\n  'multilayer-remote-switch',\n  'multiswitch-device',\n  'mux',\n  'mxe',\n  'nac-appliance',\n  'nce-router',\n  'nce',\n  'netflow-router',\n  'netranger',\n  'netsonar',\n  'network-management',\n  'network-security',\n  'nexus-1000',\n  'nexus-2000-fabric-extender',\n  'nexus-5000',\n  'nexus-7000',\n  'octel',\n  'ons15500',\n  'optical-amplifier',\n  'optical-services-router',\n  'optical-transport',\n  'pad-x28',\n  'pad',\n  'page-icon',\n  'pbx-switch',\n  'pbx',\n  'pc-adapter-card',\n  'pc-man',\n  'pc-routercard',\n  'pc-sosftware',\n  'pc-video',\n  'pc',\n  'pda',\n  'phone-fax',\n  'phone',\n  'pix-firewall',\n  'pmc',\n  'printer',\n  'programmable-switch',\n  'protocol-translator',\n  'pxf',\n  'radio-tower',\n  'ratemux',\n  'relational-database',\n  'repeater',\n  'rf-modem',\n  'route-switch-processor',\n  'router-firewall',\n  'router-in-building',\n  'router-with-silicon-switch',\n  'router',\n  'rpsrps',\n  'running-man',\n  'safeharbor-icon',\n  'sattelite-dish',\n  'sattelite',\n  'scanner',\n  'server-switch',\n  'server-with-router',\n  'service-control',\n  'service-module',\n  'service-router',\n  'services',\n  'set-top-box',\n  'simultlayer-switch',\n  'sip-proxy-server',\n  'sitting-woman',\n  'small-business',\n  'small-hub',\n  'softphone',\n  'softswitch-pgw-mgc',\n  'software-based-server',\n  'space-router',\n  'speaker',\n  'ssc',\n  'ssl-terminator',\n  'standard-host',\n  'standing-man',\n  'standing-woman',\n  'stb',\n  'storage-router',\n  'storge-server',\n  'stp',\n  'streamer',\n  'sun-workstation',\n  'supercomputer',\n  'svx',\n  'system-controller',\n  'tablet',\n  'tape-array',\n  'tdm-router',\n  'telecommuter-house-pc',\n  'telecommuter-house',\n  'telecommuter-icon',\n  'token',\n  'tp-mcu',\n  'transpath',\n  'truck',\n  'turret',\n  'tv',\n  'ubr910',\n  'umg-series',\n  'unity-server',\n  'universal-gateway',\n  'university',\n  'upc',\n  'ups',\n  'vault',\n  'video-camera',\n  'vip',\n  'virtual-layer-switch',\n  'virtual-switch-controller-vsc3',\n  'voice-atm-switch',\n  'voice-commserver',\n  'voice-router',\n  'voice-switch',\n  'vpn-concentrator',\n  'vpn-gateway',\n  'vss',\n  'wae',\n  'wavelength-router',\n  'web-browser',\n  'web-cluster',\n  'wi-fi-tag',\n  'wireless-location-appliance',\n  'wireless-router',\n  'wireless-transport',\n  'wireless',\n  'wirelss-bridge',\n  'wism',\n  'wlan-controller',\n  'workgroup-director',\n  'workgroup-switch',\n  'workstation',\n  'www-server',\n];\n\nexport const NetworkingIcons = [\n  'a-b-switch',\n  'atm-switch-2',\n  'atm-switch',\n  'biometric-reader',\n  'bridge',\n  'building',\n  'camera',\n  'card-reader',\n  'cellphone',\n  'cloud',\n  'comm-link',\n  'copier',\n  'diagnostic-device',\n  'ethernet',\n  'external-hard-drive',\n  'external-media-drive',\n  'fax-machine',\n  'fiber-optic-2',\n  'fiber-optic',\n  'file-2',\n  'file-server',\n  'file',\n  'firewall',\n  'hub',\n  'keyboard',\n  'lock',\n  'mainframe',\n  'micro-webserver',\n  'modem',\n  'monitor',\n  'mouse',\n  'mpls-2',\n  'mpls',\n  'multi-function-machine',\n  'patch-panel',\n  'pbx',\n  'pc',\n  'phone',\n  'plotter',\n  'printer',\n  'project-screen-2',\n  'project-screen',\n  'projector-2',\n  'projector-3',\n  'projector',\n  'radio-tower',\n  'relational-database',\n  'repeater',\n  'ring-network',\n  'router',\n  'satellite-dish',\n  'satellite',\n  'scanner',\n  'server-2',\n  'server',\n  'smart-phone-2',\n  'smart-phone',\n  'standing-man',\n  'standing-woman',\n  'super-computer',\n  'switch',\n  'telephone',\n  'ups',\n  'user',\n  'video-camera',\n  'video-phone',\n  'virtual-server',\n  'voip-phone',\n  'web-service',\n  'wireless-access-point',\n  'wireless-router',\n  'working-person',\n];\n\nexport const DatabaseIcons = [\n  'aerospike',\n  'airtable',\n  'apache-cassandra',\n  'apache-couchdb',\n  'apache-hadoop',\n  'apache-hbase',\n  'aws-dynamodb',\n  'aws-mobile-hub',\n  'aws-rds-relational-database-service',\n  'cloudera',\n  'couchbase',\n  'crateio',\n  'dat',\n  'database-labs',\n  'doctrine',\n  'flocker',\n  'google-firebase',\n  'ibm-cloudant',\n  'ibm-compose',\n  'influxdb',\n  'kinto',\n  'knexjs',\n  'leveldb',\n  'mariadb',\n  'memsql',\n  'mongodb-realm',\n  'mongodb',\n  'mysql',\n  'neo4j',\n  'nuodb',\n  'oracle',\n  'parse',\n  'percona',\n  'postgresql',\n  'pouchdb',\n  'prisma',\n  'pumpkindb',\n  'pusher',\n  'redis',\n  'redsmin',\n  'rethinkdb',\n  'riak',\n  'rocksdb',\n  'rxdb',\n  'scaledrone',\n  'sequelize',\n  'sqldep',\n  'sqlite',\n];\n\nexport const ComputerIcons = [\n  'crt-monitor',\n  'data-pipe',\n  'keyboard',\n  'laptop-device',\n  'lcd-monitor',\n  'mouse',\n  'pc',\n  'pda',\n  'slate',\n  'tablet',\n  'terminal',\n  'virtual-pc',\n];\n","import React, { useState } from 'react';\nimport { css } from 'emotion';\nimport {\n  Button,\n  Input,\n  InlineField,\n  InlineFieldRow,\n  InlineSwitch,\n  Select,\n  stylesFactory,\n  ControlledCollapse,\n  InlineLabel,\n  ColorPicker,\n  Slider,\n  useTheme2,\n} from '@grafana/ui';\nimport { SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Weathermap, Node } from 'types';\nimport { CiscoIcons, NetworkingIcons, DatabaseIcons, ComputerIcons } from 'iconOptions';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const NodeForm = ({ value, onChange }: Props) => {\n  const styles = getStyles();\n  const theme = useTheme2();\n\n  const handleChange = (e: React.FormEvent<HTMLInputElement>, i: number) => {\n    let weathermap: Weathermap = value;\n    if (e.currentTarget.name === 'X') {\n      weathermap.nodes[i].position[0] = e.currentTarget.valueAsNumber;\n    } else if (e.currentTarget.name === 'Y') {\n      weathermap.nodes[i].position[1] = e.currentTarget.valueAsNumber;\n    } else if (e.currentTarget.name === 'label') {\n      weathermap.nodes[i].label = e.currentTarget.value;\n    }\n    onChange(weathermap);\n  };\n\n  const handleNodePaddingChange = (num: number, i: number, type: 'vertical' | 'horizontal') => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].padding[type] = num;\n    onChange(weathermap);\n  };\n\n  const handleSpacingChange = (e: any, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].useConstantSpacing = e.currentTarget.checked;\n    onChange(weathermap);\n  };\n\n  const handleCompactChange = (e: any, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].compactVerticalLinks = e.currentTarget.checked;\n    onChange(weathermap);\n  };\n\n  const handleColorChange = (color: string, i: number, type: string) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].colors[type as 'font' | 'background' | 'border'] = color;\n    onChange(weathermap);\n  };\n\n  const applyNodeColorToAll = () => {\n    let weathermap: Weathermap = value;\n    for (let node of weathermap.nodes) {\n      node.colors = { ...currentNode.colors };\n    }\n    onChange(weathermap);\n  };\n\n  const handleIconChange = (icon: string, i: number) => {\n    let weathermap: Weathermap = value;\n\n    if (icon === null) {\n      weathermap.nodes[i].nodeIcon = {\n        src: '',\n        name: '',\n        size: {\n          width: 0,\n          height: 0,\n        },\n        padding: {\n          vertical: 0,\n          horizontal: 0,\n        },\n        drawInside: false,\n      };\n    } else {\n      weathermap.nodes[i].nodeIcon!.src = 'public/plugins/knightss27-weathermap-panel/icons/' + icon + '.svg';\n      weathermap.nodes[i].nodeIcon!.name = icon;\n\n      if (weathermap.nodes[i].nodeIcon!.size.width === 0) {\n        weathermap.nodes[i].nodeIcon!.size = { width: 40, height: 40 };\n      }\n    }\n\n    onChange(weathermap);\n  };\n\n  const handleIconSizeChange = (amt: number, i: number, type: 'width' | 'height') => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].nodeIcon!.size[type] = amt;\n    onChange(weathermap);\n  };\n\n  const handleIconPaddingChange = (amt: number, i: number, type: 'vertical' | 'horizontal') => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].nodeIcon!.padding[type] = amt;\n    onChange(weathermap);\n  };\n\n  const handleIconDrawChange = (checked: boolean, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].nodeIcon!.drawInside = checked;\n    onChange(weathermap);\n  };\n\n  const addNewNode = () => {\n    let weathermap: Weathermap = value;\n    const node: Node = {\n      id: uuidv4(),\n      position: [\n        -weathermap.settings.panel.offset.x + weathermap.settings.panel.panelSize.width / 2,\n        -weathermap.settings.panel.offset.y + weathermap.settings.panel.panelSize.height / 2,\n      ],\n      label: 'Test Label',\n      anchors: {\n        0: { numLinks: 0, numFilledLinks: 0 },\n        1: { numLinks: 0, numFilledLinks: 0 },\n        2: { numLinks: 0, numFilledLinks: 0 },\n        3: { numLinks: 0, numFilledLinks: 0 },\n        4: { numLinks: 0, numFilledLinks: 0 },\n      },\n      useConstantSpacing: false,\n      compactVerticalLinks: false,\n      padding: {\n        vertical: 4,\n        horizontal: 10,\n      },\n      colors:\n        weathermap.nodes.length > 0\n          ? weathermap.nodes[0].colors\n          : {\n              font: theme.colors.secondary.contrastText,\n              background: theme.colors.secondary.main,\n              border: theme.colors.secondary.border,\n            },\n      nodeIcon: {\n        src: '',\n        name: '',\n        size: {\n          width: 0,\n          height: 0,\n        },\n        padding: {\n          vertical: 0,\n          horizontal: 0,\n        },\n        drawInside: false,\n      },\n    };\n    weathermap.nodes.push(node);\n    onChange(weathermap);\n    setCurrentNode(node);\n  };\n\n  const removeNode = (i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.links = weathermap.links.filter((link) => {\n      for (const node of link.nodes) {\n        if (node.id === weathermap.nodes[i].id) {\n          return false;\n        }\n      }\n      return true;\n    });\n    weathermap.nodes.splice(i, 1);\n    onChange(weathermap);\n  };\n\n  const clearNodes = () => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes = [];\n    weathermap.links = [];\n    onChange(weathermap);\n  };\n\n  const [currentNode, setCurrentNode] = useState(value.nodes[0] ? value.nodes[0] : ('null' as unknown as Node));\n\n  const ciscoIconsFormatted = CiscoIcons.map((t) => {\n    return { label: t, value: 'cisco/' + t };\n  });\n  const networkingIconsFormatted = NetworkingIcons.map((t) => {\n    return { label: t, value: 'networking/' + t };\n  });\n  const databaseIconsFormatted = DatabaseIcons.map((t) => {\n    return { label: t, value: 'databases/' + t };\n  });\n  const computerIconsFormatted = ComputerIcons.map((t) => {\n    return { label: t, value: 'computers_monitors/' + t };\n  });\n\n  return (\n    <React.Fragment>\n      <h6\n        style={{\n          padding: '10px 0px 5px 5px',\n          marginTop: '10px',\n          borderTop: '1px solid var(--in-content-button-background)',\n        }}\n      >\n        Nodes\n      </h6>\n      <Select\n        onChange={(v) => {\n          setCurrentNode(v as unknown as Node);\n        }}\n        value={currentNode}\n        options={value.nodes as unknown as Array<SelectableValue<Node>>}\n        getOptionLabel={(node) => node.label}\n        getOptionValue={(node) => node.id}\n        className={styles.nodeSelect}\n        placeholder={'Select a node'}\n      ></Select>\n\n      {value.nodes.map((node, i) => {\n        if (node.id === currentNode.id) {\n          return (\n            <React.Fragment>\n              <InlineFieldRow className={styles.inlineRow}>\n                <InlineField label={'X'}>\n                  <Input\n                    value={node.position[0]}\n                    onChange={(e) => handleChange(e, i)}\n                    placeholder={'Position X'}\n                    type={'number'}\n                    className={styles.nodeLabel}\n                    name={'X'}\n                  />\n                </InlineField>\n                <InlineField label={'Y'}>\n                  <Input\n                    value={node.position[1]}\n                    onChange={(e) => handleChange(e, i)}\n                    placeholder={'Position Y'}\n                    type={'number'}\n                    className={styles.nodeLabel}\n                    name={'Y'}\n                  />\n                </InlineField>\n                <InlineField label={'Label'}>\n                  <Input\n                    value={node.label}\n                    onChange={(e) => handleChange(e, i)}\n                    placeholder={'Node Label'}\n                    type={'text'}\n                    className={styles.nodeLabel}\n                    name={'label'}\n                  />\n                </InlineField>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Icon\">\n                  <Select\n                    onChange={(v) => {\n                      handleIconChange(v.value!, i);\n                    }}\n                    value={node.nodeIcon?.name}\n                    options={[\n                      { label: 'Cisco Icons', value: 'cisco', options: ciscoIconsFormatted },\n                      { label: 'Networking Icons', value: 'networking', options: networkingIconsFormatted },\n                      { label: 'Database Icons', value: 'databases', options: databaseIconsFormatted },\n                      { label: 'Computer Icons', value: 'computers_monitors', options: computerIconsFormatted },\n                      { label: 'None', value: null },\n                    ]}\n                    className={styles.nodeSelect}\n                    placeholder={'Select an icon'}\n                  ></Select>\n                  {/* <InlineLabel className={styles.nodeSelect}>\n                    <FileUpload\n                      size=\"sm\"\n                      className={styles.nodeSelect}\n                      accept=\"image/*\"\n                      onFileUpload={({ currentTarget }) => {\n                        if (\n                          currentTarget.files &&\n                          currentTarget.files[0] &&\n                          currentTarget.files[0].type.startsWith('image') &&\n                          currentTarget.files[0].size <= 1000000\n                        ) {\n                          const reader = new FileReader();\n                          reader.onload = (e: any) => {\n                            let weathermap: Weathermap = value;\n                            weathermap.nodes[i].nodeIcon!.src = e.target.result;\n                            // @ts-ignore\n                            weathermap.nodes[i].nodeIcon!.name = currentTarget.files[0].name;\n                            if (weathermap.nodes[i].nodeIcon!.size.width === 0) {\n                              weathermap.nodes[i].nodeIcon!.size = { width: 40, height: 40 };\n                            }\n                            onChange(weathermap);\n                          };\n                          reader.readAsDataURL(currentTarget.files[0]);\n                        } else {\n                          handleFileUploadErrors(currentTarget.files);\n                        }\n                      }}\n                    />\n                    {node.nodeIcon?.name}\n                  </InlineLabel> */}\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField label={'Width'}>\n                      <Input\n                        value={node.nodeIcon!.size.width}\n                        onChange={(e) => handleIconSizeChange(e.currentTarget.valueAsNumber, i, 'width')}\n                        placeholder={'Width'}\n                        type={'number'}\n                        className={styles.nodeLabel}\n                        name={'iconWidth'}\n                      />\n                    </InlineField>\n                    <InlineField label={'Height'}>\n                      <Input\n                        value={node.nodeIcon!.size.height}\n                        onChange={(e) => handleIconSizeChange(e.currentTarget.valueAsNumber, i, 'height')}\n                        placeholder={'Height'}\n                        type={'number'}\n                        className={styles.nodeLabel}\n                        name={'iconHeight'}\n                      />\n                    </InlineField>\n                  </InlineFieldRow>\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField label={'Padding Horizontal'}>\n                      <Slider\n                        min={0}\n                        max={40}\n                        value={node.nodeIcon!.padding.horizontal}\n                        step={1}\n                        onChange={(num) => handleIconPaddingChange(num, i, 'horizontal')}\n                      />\n                    </InlineField>\n                    <InlineField label={'Padding Vertical'}>\n                      <Slider\n                        min={0}\n                        max={40}\n                        value={node.nodeIcon!.padding.vertical}\n                        step={1}\n                        onChange={(num) => handleIconPaddingChange(num, i, 'vertical')}\n                      />\n                    </InlineField>\n                  </InlineFieldRow>\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField label={'Draw Inside'}>\n                      <InlineSwitch\n                        value={node.nodeIcon!.drawInside}\n                        onChange={(e) => handleIconDrawChange(e.currentTarget.checked, i)}\n                      />\n                    </InlineField>\n                  </InlineFieldRow>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Padding\">\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField label={'Horizontal'}>\n                      <Slider\n                        min={0}\n                        max={50}\n                        value={node.padding.horizontal}\n                        step={1}\n                        onChange={(num) => handleNodePaddingChange(num, i, 'horizontal')}\n                      />\n                    </InlineField>\n                    <InlineField label={'Vertical'}>\n                      <Slider\n                        min={0}\n                        max={50}\n                        value={node.padding.vertical}\n                        step={1}\n                        onChange={(num) => handleNodePaddingChange(num, i, 'vertical')}\n                      />\n                    </InlineField>\n                  </InlineFieldRow>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Advanced\">\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField label={'Constant Spacing'}>\n                      <InlineSwitch value={node.useConstantSpacing} onChange={(e) => handleSpacingChange(e, i)} />\n                    </InlineField>\n                    <InlineField label={'Compact Vertical Links'}>\n                      <InlineSwitch value={node.compactVerticalLinks} onChange={(e) => handleCompactChange(e, i)} />\n                    </InlineField>\n                  </InlineFieldRow>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Colors\">\n                  {Object.keys(node.colors).map((colorType) => (\n                    <InlineFieldRow key={colorType}>\n                      <InlineLabel style={{ marginBottom: '4px', textTransform: 'capitalize', flex: '1 0 auto' }}>\n                        {colorType} Color:\n                        <ColorPicker\n                          color={node.colors[colorType as 'font' | 'background' | 'border']}\n                          onChange={(e) => handleColorChange(e, i, colorType)}\n                        />\n                      </InlineLabel>\n                    </InlineFieldRow>\n                  ))}\n                  <Button\n                    variant=\"primary\"\n                    size=\"md\"\n                    onClick={() => applyNodeColorToAll()}\n                    style={{ marginTop: '10px' }}\n                  >\n                    Apply to All?\n                  </Button>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <Button\n                  variant=\"destructive\"\n                  icon=\"trash-alt\"\n                  size=\"md\"\n                  onClick={() => removeNode(i)}\n                  style={{ justifyContent: 'center' }}\n                >\n                  Remove Node\n                </Button>\n              </InlineFieldRow>\n            </React.Fragment>\n          );\n        }\n        return;\n      })}\n\n      <Button variant=\"secondary\" icon=\"plus\" size=\"md\" onClick={addNewNode} className={styles.addNew}>\n        Add Node\n      </Button>\n      <Button variant=\"secondary\" icon=\"trash-alt\" size=\"md\" onClick={clearNodes} className={styles.clearAll}>\n        Clear All\n      </Button>\n    </React.Fragment>\n  );\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    nodeLabel: css`\n      margin: 0px 0px;\n    `,\n    addNew: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-right: 5px;\n    `,\n    clearAll: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-left: 5px;\n    `,\n    nodeSelect: css`\n      margin: 5px 0px;\n    `,\n    inlineField: css`\n      flex: 1 0 auto;\n    `,\n    inlineRow: css`\n      flex-flow: column;\n    `,\n  };\n});\n","import React, { useState } from 'react';\nimport { css } from 'emotion';\nimport { Button, InlineField, InlineFieldRow, Input, Select, Slider, stylesFactory } from '@grafana/ui';\nimport { SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Weathermap, Node, Link, Anchor, LinkSide } from 'types';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const LinkForm = (props: Props) => {\n  const { value, onChange, context } = props;\n  const styles = getStyles();\n\n  const findNodeIndex = (n1: Node): number => {\n    let nodeIndex = -1;\n    value.nodes.forEach((node, i) => {\n      if (node.id === n1.id) {\n        nodeIndex = i;\n      }\n    });\n    return nodeIndex;\n  };\n\n  const handleBandwidthChange = (amt: number, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].bandwidth = amt;\n    weathermap.links[i].sides[side].bandwidthQuery = undefined;\n    onChange(weathermap);\n  };\n\n  const handleBandwidthQueryChange = (frame: string, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].bandwidth = 0;\n    weathermap.links[i].sides[side].bandwidthQuery = frame;\n    onChange(weathermap);\n  };\n\n  const handleAnchorChange = (anchor: number, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    const nodeIndex = findNodeIndex(weathermap.links[i].nodes[side === 'A' ? 0 : 1]);\n\n    // remove from old\n    weathermap.nodes[nodeIndex].anchors[weathermap.links[i].sides[side].anchor].numLinks--;\n    weathermap.links[i].sides[side].anchor = anchor;\n    // add to new\n    weathermap.nodes[nodeIndex].anchors[weathermap.links[i].sides[side].anchor].numLinks++;\n    onChange(weathermap);\n  };\n\n  const handleNodeChange = (node: Node, side: 'A' | 'Z', i: number) => {\n    let weathermap: Weathermap = value;\n    const nodeIndex = findNodeIndex(node);\n\n    weathermap.nodes[nodeIndex].anchors[weathermap.links[i].sides[side].anchor].numLinks++;\n    if (side === 'A') {\n      const n2 = findNodeIndex(weathermap.links[i].nodes[0]);\n      weathermap.nodes[n2].anchors[weathermap.links[i].sides[side].anchor].numLinks--;\n      weathermap.links[i].nodes[0] = weathermap.nodes[nodeIndex];\n    } else if (side === 'Z') {\n      const n2 = findNodeIndex(weathermap.links[i].nodes[1]);\n      weathermap.nodes[n2].anchors[weathermap.links[i].sides[side].anchor].numLinks--;\n      weathermap.links[i].nodes[1] = weathermap.nodes[nodeIndex];\n    }\n    onChange(weathermap);\n  };\n\n  const handleDataChange = (side: 'A' | 'Z', i: number, frameName: string) => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].query = frameName;\n    onChange(weathermap);\n  };\n\n  const handleLabelOffsetChange = (val: number, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].labelOffset = val;\n    onChange(weathermap);\n  };\n\n  const handleDashboardLinkChange = (val: string, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].dashboardLink = val;\n    onChange(weathermap);\n  };\n\n  const addNewLink = () => {\n    if (value.nodes.length === 0) {\n      throw new Error('There must be >= 1 Nodes to create a link.');\n    }\n    let weathermap: Weathermap = value;\n    const link: Link = {\n      id: uuidv4(),\n      nodes: [value.nodes[0], value.nodes[0]],\n      sides: {\n        A: {\n          bandwidth: 0,\n          bandwidthQuery: undefined,\n          query: undefined,\n          labelOffset: 55,\n          anchor: Anchor.Center,\n          dashboardLink: '',\n        },\n        Z: {\n          bandwidth: 0,\n          bandwidthQuery: undefined,\n          query: undefined,\n          labelOffset: 55,\n          anchor: Anchor.Center,\n          dashboardLink: '',\n        },\n      },\n      units: undefined,\n    };\n    weathermap.nodes[0].anchors[Anchor.Center].numLinks += 2;\n    weathermap.links.push(link);\n    onChange(weathermap);\n    setCurrentLink(link);\n  };\n\n  const removeLink = (i: number) => {\n    let weathermap: Weathermap = value;\n    let toRemove = weathermap.links[i];\n    for (let i = 0; i < weathermap.nodes.length; i++) {\n      if (weathermap.nodes[i].id === toRemove.nodes[0].id) {\n        weathermap.nodes[i].anchors[toRemove.sides.A.anchor].numLinks--;\n      } else if (weathermap.nodes[i].id === toRemove.nodes[1].id) {\n        weathermap.nodes[i].anchors[toRemove.sides.Z.anchor].numLinks--;\n      }\n    }\n    weathermap.links.splice(i, 1);\n    onChange(weathermap);\n  };\n\n  const clearLinks = () => {\n    let weathermap: Weathermap = value;\n    weathermap.links = [];\n    props.onChange(weathermap);\n  };\n\n  const [currentLink, setCurrentLink] = useState('null' as unknown as Link);\n\n  return (\n    <React.Fragment>\n      <h6\n        style={{\n          padding: '10px 0px 5px 5px',\n          marginTop: '10px',\n          borderTop: '1px solid var(--in-content-button-background)',\n        }}\n      >\n        Links\n      </h6>\n      <Select\n        onChange={(v) => {\n          setCurrentLink(v as Link);\n        }}\n        value={currentLink}\n        options={value.links}\n        getOptionLabel={(link) => (link.nodes.length > 0 ? `${link.nodes[0]?.label} <> ${link.nodes[1]?.label}` : '')}\n        getOptionValue={(link) => link.id}\n        className={styles.nodeSelect}\n        placeholder={'Select a link'}\n      ></Select>\n\n      {value.links.map((link: Link, i) => {\n        if (link.id === currentLink.id) {\n          return (\n            <React.Fragment>\n              {Object.values(link.sides).map((side: LinkSide, sideIndex) => {\n                const sName: 'A' | 'Z' = sideIndex === 0 ? 'A' : 'Z';\n                return (\n                  <React.Fragment key={sideIndex}>\n                    <InlineFieldRow className={styles.row}>\n                      <InlineField label={`${sName} Side`} labelWidth={'auto'} style={{ maxWidth: '100%' }}>\n                        <Select\n                          onChange={(v) => {\n                            handleNodeChange(v as unknown as Node, sName, i);\n                          }}\n                          value={link.nodes[sideIndex]?.label || 'No label'}\n                          options={value.nodes as unknown as Array<SelectableValue<String>>}\n                          getOptionLabel={(node) => node?.label || 'No label'}\n                          getOptionValue={(node) => node.id}\n                          className={styles.nodeSelect}\n                          placeholder={`Select ${sName} Side`}\n                          defaultValue={link.nodes[sideIndex]}\n                        ></Select>\n                      </InlineField>\n                      <InlineField label={`${sName} Side Query`} labelWidth={'auto'} style={{ maxWidth: '100%' }}>\n                        <Select\n                          onChange={(v) => {\n                            handleDataChange(sName, i, v.name);\n                          }}\n                          // TODO: Unable to just pass a data frame or string here?\n                          // This is fairly unoptimized if you have loads of data frames\n                          value={context.data.filter((p) => p.name === side.query)[0]}\n                          options={context.data}\n                          getOptionLabel={(data) => data?.name || 'No label'}\n                          getOptionValue={(data) => data?.name}\n                          className={styles.querySelect}\n                          placeholder={`Select ${sName} Side Query`}\n                        ></Select>\n                      </InlineField>\n                    </InlineFieldRow>\n                    <InlineFieldRow className={styles.row2}>\n                      <InlineField label={`${sName} Bandwidth #`}>\n                        <Input\n                          value={side.bandwidth}\n                          onChange={(e) => handleBandwidthChange(e.currentTarget.valueAsNumber, i, sName)}\n                          placeholder={'Custom max bandwidth'}\n                          type={'number'}\n                          className={styles.nodeLabel}\n                          name={`${sName}bandwidth`}\n                        />\n                      </InlineField>\n                      <InlineField label={`${sName} Bandwidth Query`} style={{ maxWidth: '100%' }}>\n                        <Select\n                          onChange={(v) => {\n                            handleBandwidthQueryChange(v.name, i, sName);\n                          }}\n                          value={context.data.filter((p) => p.name === side.bandwidthQuery)[0]}\n                          options={context.data}\n                          getOptionLabel={(data) => data?.name || 'No label'}\n                          getOptionValue={(data) => data?.name}\n                          className={styles.bandwidthSelect}\n                          placeholder={'Select Bandwidth'}\n                        ></Select>\n                      </InlineField>\n                    </InlineFieldRow>\n                    <InlineFieldRow className={styles.row2}>\n                      <InlineField label={`${sName} Label Offset %`} style={{ width: '100%' }}>\n                        <Slider\n                          min={0}\n                          max={100}\n                          value={side.labelOffset}\n                          onChange={(v) => {\n                            handleLabelOffsetChange(v, i, sName);\n                          }}\n                        />\n                      </InlineField>\n                    </InlineFieldRow>\n                    <InlineFieldRow className={styles.row2}>\n                      <InlineField label={`${sName} Side Anchor Point`} style={{ width: '100%' }}>\n                        <Select\n                          onChange={(v) => {\n                            handleAnchorChange(v.value ? v.value : 0, i, sName);\n                          }}\n                          value={{ label: Anchor[side.anchor], value: side.anchor }}\n                          options={Object.keys(Anchor)\n                            .slice(5)\n                            .map((nt, i) => {\n                              return { label: Anchor[i], value: i };\n                            })}\n                          className={styles.bandwidthSelect}\n                          placeholder={'Select Anchor'}\n                        ></Select>\n                      </InlineField>\n                    </InlineFieldRow>\n                    <InlineFieldRow className={styles.row2}>\n                      <InlineField label={`${sName} Dashboard Link`} style={{ width: '100%' }}>\n                        <Input\n                          value={side.dashboardLink}\n                          onChange={(e) => handleDashboardLinkChange(e.currentTarget.value, i, sName)}\n                          placeholder={'Link specific dashboard'}\n                          type={'text'}\n                          className={styles.nodeLabel}\n                          name={`${sName}dashboardLink`}\n                        />\n                      </InlineField>\n                    </InlineFieldRow>\n                  </React.Fragment>\n                );\n              })}\n              <InlineFieldRow className={styles.row}>\n                <Button variant=\"destructive\" icon=\"trash-alt\" size=\"md\" onClick={() => removeLink(i)} className={''}>\n                  Remove Link\n                </Button>\n              </InlineFieldRow>\n            </React.Fragment>\n          );\n        }\n        return;\n      })}\n\n      <Button variant=\"secondary\" icon=\"plus\" size=\"md\" onClick={addNewLink} className={styles.addNew}>\n        Add Link\n      </Button>\n      <Button variant=\"secondary\" icon=\"trash-alt\" size=\"md\" onClick={clearLinks} className={styles.clearAll}>\n        Clear All\n      </Button>\n    </React.Fragment>\n  );\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    nodeLabel: css`\n      margin: 0px 0px;\n    `,\n    addNew: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-right: 5px;\n    `,\n    clearAll: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-left: 5px;\n    `,\n    nodeSelect: css`\n      margin: 0px 0px;\n    `,\n    bandwidthSelect: css`\n      margin: 0px 0px;\n      max-width: calc(100% - 112px);\n    `,\n    querySelect: css`\n      margin: 0px 0px;\n      max-width: calc(100% - 88px);\n    `, // TODO: find a better way to do this calc above\n    row: css`\n      margin-top: 5px;\n      max-width: 100%;\n      padding-top: 10px;\n      border-top: 1px solid var(--in-content-button-background);\n    `,\n    row2: css`\n      margin-top: 5px;\n      max-width: 100%;\n    `,\n  };\n});\n","import React, { useState } from 'react';\nimport { css } from 'emotion';\nimport { Button, Input, stylesFactory, ColorPicker, Icon, useTheme2 } from '@grafana/ui';\nimport { GrafanaTheme2, StandardEditorProps } from '@grafana/data';\nimport { Weathermap } from 'types';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const ColorForm = (props: Props) => {\n  const theme = useTheme2();\n  const styles = getStyles(theme);\n\n  const { value, onChange } = props;\n\n  const handleNumberChange = (e: any, key: number) => {\n    let weathermap: Weathermap = value;\n    let prev: string = weathermap.scale[key];\n    delete weathermap.scale[key];\n    weathermap.scale[parseInt(e.currentTarget.value, 10)] = prev;\n    onChange(weathermap);\n    setEditedPercents(Object.keys(value.scale).map((i) => parseInt(i, 10)));\n  };\n\n  const handleColorChange = (color: any, key: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.scale[key] = color;\n    onChange(weathermap);\n  };\n\n  const addNewValue = () => {\n    let weathermap: Weathermap = value;\n    if (Object.keys(value.scale).length === 0) {\n      weathermap.scale[0] = '#ffffff';\n    } else {\n      weathermap.scale[parseInt(Object.keys(value.scale)[Object.keys(value.scale).length - 1], 10) + 10] = '#ffffff';\n    }\n    onChange(weathermap);\n    setEditedPercents(Object.keys(value.scale).map((i) => parseInt(i, 10)));\n  };\n\n  const clearValues = () => {\n    let weathermap: Weathermap = value;\n    weathermap.scale = {};\n    onChange(weathermap);\n    setEditedPercents(Object.keys(value.scale).map((i) => parseInt(i, 10)));\n  };\n\n  const handleDeletePercent = (key: number) => {\n    let weathermap: Weathermap = value;\n    delete weathermap.scale[key];\n    onChange(weathermap);\n  };\n\n  // const [editedColor, setEditedColor] = useState('');\n  const [editedPercents, setEditedPercents] = useState(Object.keys(value.scale).map((i) => parseInt(i, 10)));\n\n  return (\n    <React.Fragment>\n      <h6\n        style={{\n          padding: '10px 0px 5px 5px',\n          marginTop: '10px',\n          borderTop: '1px solid var(--in-content-button-background)',\n        }}\n      >\n        Color Scale\n      </h6>\n      {Object.keys(value.scale).map((percent, i) => (\n        <Input\n          className={styles.item}\n          type=\"number\"\n          step=\"0.0001\"\n          key={i}\n          onChange={(e) => {\n            setEditedPercents((prev) => {\n              let t = prev;\n              t[i] = e.currentTarget.valueAsNumber;\n              return t;\n            });\n            onChange(value);\n          }}\n          value={editedPercents[i]}\n          aria-label={`Weathermap Threshold ${percent}`}\n          onBlur={(e) => handleNumberChange(e, parseInt(percent, 10))}\n          prefix={\n            <div className={styles.inputPrefix}>\n              <div className={styles.colorPicker}>\n                <ColorPicker\n                  color={value.scale[parseInt(percent, 10)]}\n                  onChange={(color) => handleColorChange(color, parseInt(percent, 10))}\n                />\n              </div>\n            </div>\n          }\n          suffix={\n            <Icon\n              className={styles.trashIcon}\n              name=\"trash-alt\"\n              onClick={() => handleDeletePercent(parseInt(percent, 10))}\n            />\n          }\n        />\n      ))}\n\n      <Button variant=\"secondary\" icon=\"plus\" size=\"md\" onClick={addNewValue} className={styles.addNew}>\n        Add Scale Value\n      </Button>\n      <Button variant=\"secondary\" icon=\"trash-alt\" size=\"md\" onClick={clearValues} className={styles.clearAll}>\n        Clear All\n      </Button>\n    </React.Fragment>\n  );\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    nodeLabel: css`\n      margin: 0px 0px;\n    `,\n    addNew: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-right: 5px;\n    `,\n    clearAll: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-left: 5px;\n    `,\n    nodeSelect: css`\n      margin: 5px 0px;\n    `,\n    inputPrefix: css`\n      display: flex;\n      align-items: center;\n    `,\n    colorPicker: css`\n      padding: 0 ${theme.spacing(1)};\n    `,\n    trashIcon: css`\n      color: ${theme.colors.text.secondary};\n      cursor: pointer;\n      &:hover {\n        color: ${theme.colors.text.primary};\n      }\n    `,\n    item: css`\n      margin-bottom: ${theme.spacing(1)};\n      &:last-child {\n        margin-bottom: 0;\n      }\n    `,\n  };\n});\n","import React from 'react';\n\ninterface Props {\n  title: string;\n}\n\nexport const FormDivider = ({ title }: Props) => {\n  return (\n    <h6\n      style={{\n        padding: '10px 0px 5px 5px',\n        marginTop: '10px',\n        borderTop: '1px solid var(--in-content-button-background)',\n      }}\n    >\n      {title}\n    </h6>\n  );\n};\n","import React from 'react';\nimport {\n  ColorPicker,\n  InlineField,\n  InlineFieldRow,\n  InlineLabel,\n  InlineSwitch,\n  Input,\n  Slider,\n  stylesFactory,\n  useTheme2,\n} from '@grafana/ui';\nimport { GrafanaTheme2, StandardEditorProps } from '@grafana/data';\nimport { Weathermap } from 'types';\nimport { FormDivider } from './FormDivider';\nimport { css } from 'emotion';\n// import { handleFileUploadErrors } from 'utils';\n\ninterface Settings {}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const PanelForm = ({ value, onChange }: Props) => {\n  const styles = getStyles(useTheme2());\n\n  const handleColorChange = (color: string) => {\n    let options = value;\n    if (!color.startsWith('image') && options.settings.panel.backgroundColor.startsWith('image')) {\n      options.settings.panel.backgroundColor =\n        'image|' + color + '|' + options.settings.panel.backgroundColor.split('|', 3)[2];\n    } else {\n      options.settings.panel.backgroundColor = color;\n    }\n    onChange(options);\n  };\n\n  if (value) {\n    return (\n      <React.Fragment>\n        <FormDivider title=\"Panel\" />\n        <InlineField label=\"Background:\" className={styles.inlineField}>\n          <React.Fragment></React.Fragment>\n        </InlineField>\n        <InlineLabel width={'auto'} style={{ marginBottom: '4px' }}>\n          - Color:\n          <ColorPicker\n            color={\n              value.settings.panel.backgroundColor.startsWith('image')\n                ? value.settings.panel.backgroundColor.split('|', 3)[1]\n                : value.settings.panel.backgroundColor\n            }\n            onChange={handleColorChange}\n          />\n        </InlineLabel>\n        {/* <InlineLabel width={'auto'} style={{ marginBottom: '4px' }}>\n          - Image:\n          <FileUpload\n            size=\"sm\"\n            accept=\"image/*\"\n            onFileUpload={({ currentTarget }) => {\n              if (\n                currentTarget.files &&\n                currentTarget.files[0] &&\n                currentTarget.files[0].type.startsWith('image') &&\n                currentTarget.files[0].size <= 1000000\n              ) {\n                console.log('Reading file: ' + currentTarget.files[0].name);\n                const reader = new FileReader();\n                reader.onload = (e: any) => {\n                  if (value.settings.panel.backgroundColor.startsWith('image')) {\n                    handleColorChange(\n                      'image|' + value.settings.panel.backgroundColor.split('|', 3)[1] + '|' + e.target.result\n                    );\n                  } else {\n                    handleColorChange('image|' + value.settings.panel.backgroundColor + '|' + e.target.result);\n                  }\n                };\n                reader.readAsDataURL(currentTarget.files[0]);\n              } else {\n                handleFileUploadErrors(currentTarget.files);\n              }\n            }}\n          />\n          {value.settings.panel.backgroundColor.startsWith('image') ? (\n            <Button\n              variant=\"destructive\"\n              icon=\"trash-alt\"\n              size=\"sm\"\n              onClick={() => {\n                let options = value;\n                options.settings.panel.backgroundColor = value.settings.panel.backgroundColor.split('|', 3)[1];\n                onChange(options);\n              }}\n              style={{ justifyContent: 'center' }}\n            ></Button>\n          ) : (\n            ''\n          )}\n        </InlineLabel> */}\n        <InlineFieldRow className={styles.inlineRow}>\n          <InlineField label=\"Viewbox Width (px)\" className={styles.inlineField}>\n            <Input\n              value={value.settings.panel.panelSize.width}\n              placeholder={'Panel Width'}\n              type={'number'}\n              name={'panelWidth'}\n              onChange={(e) => {\n                let options = value;\n                options.settings.panel.panelSize.width = e.currentTarget.valueAsNumber;\n                onChange(options);\n              }}\n            ></Input>\n          </InlineField>\n          <InlineField label=\"Viewbox Height (px)\" className={styles.inlineField}>\n            <Input\n              value={value.settings.panel.panelSize.height}\n              placeholder={'Panel Height'}\n              type={'number'}\n              name={'panelHeight'}\n              onChange={(e) => {\n                let options = value;\n                options.settings.panel.panelSize.height = e.currentTarget.valueAsNumber;\n                onChange(options);\n              }}\n            ></Input>\n          </InlineField>\n        </InlineFieldRow>\n        <FormDivider title=\"Link Options\" />\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Base Color:\n          <ColorPicker\n            color={value.settings.link.stroke.color}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.stroke.color = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineFieldRow className={styles.inlineRow}>\n          <InlineField label=\"Link Stroke Width\" className={styles.inlineField}>\n            <Slider\n              min={1}\n              max={30}\n              value={value.settings.link.stroke.width}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.link.stroke.width = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Link Spacing Horizontal\" className={styles.inlineField}>\n            <Slider\n              min={0}\n              max={30}\n              value={value.settings.link.spacing.horizontal}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.link.spacing.horizontal = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Link Spacing Vertical\" className={styles.inlineField}>\n            <Slider\n              min={0}\n              max={30}\n              value={value.settings.link.spacing.vertical}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.link.spacing.vertical = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Label Background Color:\n          <ColorPicker\n            color={value.settings.link.label.background}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.label.background = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Label Border Color:\n          <ColorPicker\n            color={value.settings.link.label.border}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.label.border = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Label Font Color:\n          <ColorPicker\n            color={value.settings.link.label.font}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.label.font = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <FormDivider title=\"Arrow Options\" />\n        <InlineFieldRow className={styles.inlineRow}>\n          <InlineField label=\"Arrow Width\" className={styles.inlineField}>\n            <Slider\n              min={0}\n              max={30}\n              value={value.settings.linkArrow.width}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.linkArrow.width = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Arrow Height\" className={styles.inlineField}>\n            <Slider\n              min={0}\n              max={30}\n              value={value.settings.linkArrow.height}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.linkArrow.height = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Arrow Offset\" className={styles.inlineField}>\n            <Slider\n              min={0}\n              max={10}\n              value={value.settings.linkArrow.offset}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.linkArrow.offset = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        <FormDivider title=\"Grid Options\" />\n        <InlineFieldRow className={styles.inlineRow}>\n          <InlineField label=\"Enable Node Grid Snapping\" className={styles.inlineField}>\n            <InlineSwitch\n              value={value.settings.panel.grid.enabled}\n              onChange={(e) => {\n                let wm = value;\n                wm.settings.panel.grid.enabled = e.currentTarget.checked;\n                wm.settings.panel.grid.guidesEnabled = false;\n                onChange(wm);\n              }}\n            />\n          </InlineField>\n          {value.settings.panel.grid.enabled ? (\n            <InlineField label=\"Grid Size (px)\" className={styles.inlineField}>\n              <Slider\n                min={2}\n                max={50}\n                value={value.settings.panel.grid.size}\n                step={1}\n                onChange={(num) => {\n                  let options = value;\n                  options.settings.panel.grid.size = num;\n                  onChange(options);\n                }}\n              />\n            </InlineField>\n          ) : (\n            ''\n          )}\n        </InlineFieldRow>\n        {value.settings.panel.grid.enabled ? (\n          <InlineFieldRow className={styles.inlineRow}>\n            <InlineField label=\"Grid Guides\" className={styles.inlineField}>\n              <InlineSwitch\n                value={value.settings.panel.grid.guidesEnabled}\n                onChange={(e) => {\n                  let wm = value;\n                  wm.settings.panel.grid.guidesEnabled = e.currentTarget.checked;\n                  onChange(wm);\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        ) : (\n          ''\n        )}\n        <FormDivider title=\"Font Options\" />\n        <InlineFieldRow className={styles.inlineRow}>\n          <InlineField label=\"Node Font Size\" className={styles.inlineField}>\n            <Slider\n              min={2}\n              max={40}\n              value={value.settings.fontSizing.node}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.fontSizing.node = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Link Font Size\" className={styles.inlineField}>\n            <Slider\n              min={2}\n              max={40}\n              value={value.settings.fontSizing.link}\n              step={1}\n              onChange={(num) => {\n                let options = value;\n                options.settings.fontSizing.link = num;\n                onChange(options);\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </React.Fragment>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    inlineField: css`\n      flex: 1 0 auto;\n    `,\n    inlineRow: css`\n      flex-flow: column;\n    `,\n  };\n});\n","import React from 'react';\nimport { StandardEditorProps } from '@grafana/data';\nimport { Weathermap } from 'types';\nimport { NodeForm } from './NodeForm';\nimport { LinkForm } from './LinkForm';\nimport { ColorForm } from './ColorForm';\nimport { PanelForm } from './PanelForm';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useTheme2 } from '@grafana/ui';\nimport { generateBasicNode, CURRENT_VERSION, generateBasicLink, handleVersionedStateUpdates } from 'utils';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const WeathermapBuilder = (props: Props) => {\n  const theme = useTheme2();\n\n  const defaultNodes = [generateBasicNode('Node A', [200, 300], theme), generateBasicNode('Node B', [400, 300], theme)];\n\n  const defaultValue: Weathermap = {\n    version: CURRENT_VERSION,\n    id: uuidv4(),\n    nodes: defaultNodes,\n    links: [generateBasicLink([defaultNodes[0], defaultNodes[1]])],\n    scale: {},\n    settings: {\n      link: {\n        spacing: {\n          horizontal: 10,\n          vertical: 5,\n        },\n        stroke: {\n          width: 8,\n          color: theme.colors.secondary.main,\n        },\n        label: {\n          background: theme.colors.secondary.main,\n          border: theme.colors.secondary.border,\n          font: theme.colors.secondary.contrastText,\n        },\n      },\n      linkArrow: {\n        width: 8,\n        height: 10,\n        offset: 2,\n      },\n      fontSizing: {\n        node: 10,\n        link: 7,\n      },\n      panel: {\n        backgroundColor: theme.colors.background.primary,\n        panelSize: {\n          width: 600,\n          height: 600,\n        },\n        zoomScale: 0,\n        offset: {\n          x: 0,\n          y: 0,\n        },\n        grid: {\n          enabled: false,\n          size: 10,\n          guidesEnabled: false,\n        },\n      },\n    },\n  };\n\n  if (!props.value) {\n    console.log('Initializing weathermap plugin.');\n    props.onChange(defaultValue);\n  } else if (!props.value.version || props.value.version !== CURRENT_VERSION) {\n    // State versioning and merging to deal with missing properties.\n    let wm = props.value;\n    props.onChange(handleVersionedStateUpdates(wm, theme));\n  }\n\n  if (props.value) {\n    return (\n      <React.Fragment>\n        <NodeForm {...props}></NodeForm>\n        <LinkForm {...props}></LinkForm>\n        <ColorForm {...props}></ColorForm>\n        <PanelForm {...props}></PanelForm>\n      </React.Fragment>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from 'react';\nimport { InlineFieldRow, Button, stylesFactory, useTheme2 } from '@grafana/ui';\nimport { GrafanaTheme2, StandardEditorProps } from '@grafana/data';\nimport { Weathermap } from 'types';\nimport { css } from 'emotion';\n\ninterface Settings {}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const ExportForm = ({ value, onChange }: Props) => {\n  const styles = getStyles(useTheme2());\n\n  const generateDownloadLink = (href: string, download: string) => {\n    let downloadLink = document.createElement('a');\n    downloadLink.href = href;\n    downloadLink.download = download;\n    downloadLink.target = '_blank';\n\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  };\n\n  const handleSVGExport = async () => {\n    const svg = document.getElementById(`nw-${value.id}_`);\n\n    let data = svg!.outerHTML || '';\n    const preface = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n';\n\n    const icons = svg!.getElementsByTagName('image');\n    //TODO: fix exporting\n    for (let i = 0; i < icons.length; i++) {\n      const iconURL = document.location.origin + '/' + icons[i].href.baseVal;\n      const iconData = await fetch(iconURL);\n      const iconString = await iconData.text();\n      const base64String = 'data:image/svg+xml;base64,' + window.btoa(iconString);\n\n      data = data.replace(icons[i].href.baseVal, base64String);\n    }\n\n    const svgBlob = new Blob([preface, data], { type: 'image/svg+xml;charset=utf-8' });\n    const svgUrl = URL.createObjectURL(svgBlob);\n\n    generateDownloadLink(svgUrl, `network-weathermap-${new Date().toISOString()}.svg`);\n  };\n\n  // const handleJSONExport = () => {\n  //   let weathermap: any = Object.assign({}, value);\n  //   weathermap.links = weathermap.links.map((link: Link) => {\n  //     return [link.nodes[0].id, link.nodes[1].id];\n  //   });\n\n  //   const data = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(weathermap));\n  //   generateDownloadLink(data, 'network-weathermap.json');\n  // };\n\n  if (value) {\n    return (\n      <React.Fragment>\n        <InlineFieldRow>\n          <Button onClick={handleSVGExport} className={styles.exportButton}>\n            Export SVG\n          </Button>\n          {/* <Button onClick={handleJSONExport} className={styles.exportJSONButton}>\n            Export JSON\n          </Button> */}\n        </InlineFieldRow>\n      </React.Fragment>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    exportButton: css`\n      margin: ${theme.spacing(1)} 0;\n      margin-right: ${theme.spacing(1)};\n    `,\n    exportJSONButton: css`\n      margin: ${theme.spacing(1)} 0;\n    `,\n  };\n});\n","import { PanelPlugin } from '@grafana/data';\nimport { SimpleOptions } from './types';\nimport { WeathermapPanel } from './WeathermapPanel';\nimport { WeathermapBuilder } from 'WeathermapBuilder';\nimport { ExportForm } from './ExportForm';\n\nexport const plugin = new PanelPlugin<SimpleOptions>(WeathermapPanel).setPanelOptions((builder) => {\n  return builder\n    .addCustomEditor({\n      id: 'weathermapEditor',\n      path: 'weathermap',\n      name: 'Edit Weathermap',\n      description: 'Add, remove, and edit weathermap nodes and links.',\n      editor: WeathermapBuilder,\n      settings: {\n        placeholder: 'This is my placeholder.',\n      },\n    })\n    .addCustomEditor({\n      id: 'exportForm',\n      path: 'weathermap',\n      name: 'Export Weathermap',\n      description: `Export an SVG snapshot of the weathermap. The SVG exports show only links and nodes, for the entire panel please use Grafana's image renderer plugin.`,\n      editor: ExportForm,\n    });\n});\n"],"sourceRoot":""}